// utils/tarot-data.ts - 웹용 완전한 78장 타로 카드 데이터

export interface TarotCard {
  id: number;
  name: string;
  nameKr: string;
  meaning: string;
  meaningKr: string;
  keywords: string[];
  keywordsKr: string[];
  imageUrl: string;
  element: string;
  suit: string;
  type: 'Major Arcana' | 'Minor Arcana';
}

export interface DailyTarotSave {
  id: string;
  date: string; // Date string format
  hourlyCards: TarotCard[]; // 24장의 카드
  memos: { [hour: number]: string }; // 시간별 메모
  insights: string; // 전체 인사이트
  savedAt: string; // ISO string
}

export interface SpreadSave {
  id: string;
  date: string;
  spreadType: string;
  question: string;
  cards: TarotCard[];
  positions: string[];
  interpretation: string;
  insights: string;
  savedAt: string;
}

export interface SpreadType {
  id: string;
  name: string;
  nameKr: string;
  description: string;
  descriptionKr: string;
  isPremium: boolean;
  cardCount: number;
  positions: string[];
  positionsKr: string[];
}

// 현재 시간 관련 유틸리티 함수들
export const getCurrentHour = (): number => {
  return new Date().getHours();
};

export const formatHour = (hour: number): string => {
  const period = hour < 12 ? '오전' : '오후';
  const displayHour = hour === 0 ? 12 : hour > 12 ? hour - 12 : hour;
  return `${period} ${displayHour}시`;
};

export const formatDate = (date: Date): string => {
  const year = date.getFullYear();
  const month = date.getMonth() + 1;
  const day = date.getDate();
  const weekdays = ['일', '월', '화', '수', '목', '금', '토'];
  const weekday = weekdays[date.getDay()];
  return `${year}년 ${month}월 ${day}일 (${weekday})`;
};

export const formatTime = (date: Date): string => {
  const hours = date.getHours().toString().padStart(2, '0');
  const minutes = date.getMinutes().toString().padStart(2, '0');
  return `${hours}:${minutes}`;
};

// 완전한 78장 타로 카드 데이터
const ALL_TAROT_CARDS: Omit<TarotCard, 'id'>[] = [
  // 메이저 아르카나 (22장)
  {
    name: 'The Fool',
    nameKr: '바보',
    meaning: 'New beginnings, innocence, spontaneity, free spirit',
    meaningKr: '새로운 시작, 순수함, 자발성, 자유로운 영혼을 의미합니다.',
    keywords: ['beginning', 'innocence', 'adventure', 'faith'],
    keywordsKr: ['시작', '순수함', '모험', '믿음'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Magician',
    nameKr: '마법사',
    meaning: 'Manifestation, resourcefulness, power, inspired action',
    meaningKr: '현실화, 재능, 힘, 영감받은 행동을 의미합니다.',
    keywords: ['manifestation', 'power', 'skill', 'concentration'],
    keywordsKr: ['현실화', '힘', '기술', '집중'],
    imageUrl: 'https://images.unsplash.com/photo-1551431009-a802eeec77b1?w=400',
    element: 'Air',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The High Priestess',
    nameKr: '여교황',
    meaning: 'Intuition, sacred knowledge, divine feminine, subconscious mind',
    meaningKr: '직감, 신성한 지식, 신성한 여성성, 잠재의식을 의미합니다.',
    keywords: ['intuition', 'mystery', 'subconscious', 'wisdom'],
    keywordsKr: ['직감', '신비', '잠재의식', '지혜'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Empress',
    nameKr: '여황제',
    meaning: 'Femininity, beauty, nature, nurturing, abundance',
    meaningKr: '여성성, 아름다움, 자연, 양육, 풍요로움을 의미합니다.',
    keywords: ['abundance', 'nurturing', 'fertility', 'beauty'],
    keywordsKr: ['풍요', '양육', '다산', '아름다움'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Emperor',
    nameKr: '황제',
    meaning: 'Authority, establishment, structure, father figure',
    meaningKr: '권위, 질서, 구조, 아버지 같은 존재를 의미합니다.',
    keywords: ['authority', 'structure', 'control', 'stability'],
    keywordsKr: ['권위', '구조', '통제', '안정'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Hierophant',
    nameKr: '교황',
    meaning: 'Spiritual wisdom, religious beliefs, conformity, tradition',
    meaningKr: '영적 지혜, 종교적 믿음, 순응, 전통을 의미합니다.',
    keywords: ['tradition', 'conformity', 'morality', 'ethics'],
    keywordsKr: ['전통', '순응', '도덕', '윤리'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Lovers',
    nameKr: '연인',
    meaning: 'Love, harmony, relationships, values alignment',
    meaningKr: '사랑, 조화, 인간관계, 가치관의 일치를 의미합니다.',
    keywords: ['love', 'harmony', 'relationships', 'choices'],
    keywordsKr: ['사랑', '조화', '관계', '선택'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Chariot',
    nameKr: '전차',
    meaning: 'Control, willpower, success, determination',
    meaningKr: '통제력, 의지력, 성공, 결단력을 의미합니다.',
    keywords: ['control', 'willpower', 'success', 'determination'],
    keywordsKr: ['통제', '의지력', '성공', '결단력'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'Strength',
    nameKr: '힘',
    meaning: 'Strength, courage, patience, control, compassion',
    meaningKr: '힘, 용기, 인내, 통제력, 연민을 의미합니다.',
    keywords: ['strength', 'courage', 'patience', 'control'],
    keywordsKr: ['힘', '용기', '인내', '통제'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Hermit',
    nameKr: '은둔자',
    meaning: 'Soul searching, introspection, inner guidance',
    meaningKr: '영혼 탐구, 내성, 내적 안내를 의미합니다.',
    keywords: ['introspection', 'search', 'guidance', 'solitude'],
    keywordsKr: ['내성', '탐구', '안내', '고독'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'Wheel of Fortune',
    nameKr: '운명의 수레바퀴',
    meaning: 'Good luck, karma, life cycles, destiny, turning point',
    meaningKr: '행운, 업보, 인생의 순환, 운명, 전환점을 의미합니다.',
    keywords: ['luck', 'karma', 'cycles', 'destiny'],
    keywordsKr: ['행운', '업보', '순환', '운명'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'Justice',
    nameKr: '정의',
    meaning: 'Justice, fairness, truth, cause and effect, law',
    meaningKr: '정의, 공정함, 진실, 인과응보, 법을 의미합니다.',
    keywords: ['justice', 'fairness', 'truth', 'law'],
    keywordsKr: ['정의', '공정함', '진실', '법'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Hanged Man',
    nameKr: '매달린 남자',
    meaning: 'Suspension, restriction, letting go, sacrifice',
    meaningKr: '정지, 제한, 포기, 희생을 의미합니다.',
    keywords: ['suspension', 'restriction', 'letting go', 'sacrifice'],
    keywordsKr: ['정지', '제한', '포기', '희생'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'Death',
    nameKr: '죽음',
    meaning: 'Endings, beginnings, change, transformation, transition',
    meaningKr: '끝, 시작, 변화, 변형, 전환을 의미합니다.',
    keywords: ['endings', 'beginnings', 'change', 'transformation'],
    keywordsKr: ['끝', '시작', '변화', '변형'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'Temperance',
    nameKr: '절제',
    meaning: 'Balance, moderation, patience, purpose',
    meaningKr: '균형, 절제, 인내, 목적을 의미합니다.',
    keywords: ['balance', 'moderation', 'patience', 'purpose'],
    keywordsKr: ['균형', '절제', '인내', '목적'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Devil',
    nameKr: '악마',
    meaning: 'Bondage, addiction, sexuality, materialism',
    meaningKr: '속박, 중독, 성적 욕망, 물질주의를 의미합니다.',
    keywords: ['bondage', 'addiction', 'sexuality', 'materialism'],
    keywordsKr: ['속박', '중독', '욕망', '물질주의'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Tower',
    nameKr: '탑',
    meaning: 'Sudden change, upheaval, chaos, revelation, awakening',
    meaningKr: '갑작스러운 변화, 격변, 혼란, 계시, 각성을 의미합니다.',
    keywords: ['sudden change', 'upheaval', 'chaos', 'revelation'],
    keywordsKr: ['급변', '격변', '혼란', '계시'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Star',
    nameKr: '별',
    meaning: 'Hope, faith, purpose, renewal, spirituality',
    meaningKr: '희망, 믿음, 목적, 갱신, 영성을 의미합니다.',
    keywords: ['hope', 'faith', 'purpose', 'renewal'],
    keywordsKr: ['희망', '믿음', '목적', '갱신'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Moon',
    nameKr: '달',
    meaning: 'Illusion, fear, anxiety, subconscious, intuition',
    meaningKr: '환상, 두려움, 불안, 잠재의식, 직감을 의미합니다.',
    keywords: ['illusion', 'fear', 'anxiety', 'subconscious'],
    keywordsKr: ['환상', '두려움', '불안', '잠재의식'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The Sun',
    nameKr: '태양',
    meaning: 'Happiness, success, optimism, vitality',
    meaningKr: '행복, 성공, 낙관주의, 활력을 의미합니다.',
    keywords: ['happiness', 'success', 'optimism', 'vitality'],
    keywordsKr: ['행복', '성공', '낙관주의', '활력'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'Judgement',
    nameKr: '심판',
    meaning: 'Judgement, rebirth, inner calling, absolution',
    meaningKr: '심판, 재생, 내적 부름, 사면을 의미합니다.',
    keywords: ['judgement', 'rebirth', 'inner calling', 'absolution'],
    keywordsKr: ['심판', '재생', '내적부름', '사면'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Major',
    type: 'Major Arcana'
  },
  {
    name: 'The World',
    nameKr: '세계',
    meaning: 'Completion, accomplishment, travel, success',
    meaningKr: '완성, 성취, 여행, 성공을 의미합니다.',
    keywords: ['completion', 'accomplishment', 'travel', 'success'],
    keywordsKr: ['완성', '성취', '여행', '성공'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Major',
    type: 'Major Arcana'
  },
  
  // 완드 수트 (14장)
  {
    name: 'Ace of Wands',
    nameKr: '완드 에이스',
    meaning: 'Inspiration, new opportunities, growth, creative potential',
    meaningKr: '영감, 새로운 기회, 성장, 창의적 잠재력을 의미합니다.',
    keywords: ['inspiration', 'creativity', 'new beginnings', 'potential'],
    keywordsKr: ['영감', '창의성', '새로운 시작', '잠재력'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Two of Wands',
    nameKr: '완드 2',
    meaning: 'Future planning, making decisions, leaving comfort zone',
    meaningKr: '미래 계획, 결정 내리기, 안전지대 벗어나기를 의미합니다.',
    keywords: ['planning', 'decisions', 'discovery', 'personal power'],
    keywordsKr: ['계획', '결정', '발견', '개인적 힘'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Three of Wands',
    nameKr: '완드 3',
    meaning: 'Expansion, foresight, overseas opportunities, leadership',
    meaningKr: '확장, 선견지명, 해외 기회, 지도력을 의미합니다.',
    keywords: ['expansion', 'foresight', 'leadership', 'planning'],
    keywordsKr: ['확장', '선견지명', '지도력', '계획'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Four of Wands',
    nameKr: '완드 4',
    meaning: 'Celebration, harmony, homecoming, community',
    meaningKr: '축하, 화합, 귀향, 공동체를 의미합니다.',
    keywords: ['celebration', 'harmony', 'home', 'community'],
    keywordsKr: ['축하', '화합', '가정', '공동체'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Five of Wands',
    nameKr: '완드 5',
    meaning: 'Conflict, disagreements, competition, tension',
    meaningKr: '갈등, 의견 불일치, 경쟁, 긴장감을 의미합니다.',
    keywords: ['conflict', 'competition', 'disagreement', 'struggle'],
    keywordsKr: ['갈등', '경쟁', '불일치', '투쟁'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Six of Wands',
    nameKr: '완드 6',
    meaning: 'Success, public recognition, progress, self-confidence',
    meaningKr: '성공, 공개적 인정, 진보, 자신감을 의미합니다.',
    keywords: ['success', 'recognition', 'victory', 'leadership'],
    keywordsKr: ['성공', '인정', '승리', '지도력'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Seven of Wands',
    nameKr: '완드 7',
    meaning: 'Challenge, perseverance, test of faith, defensive',
    meaningKr: '도전, 인내, 믿음의 시험, 방어적 태도를 의미합니다.',
    keywords: ['challenge', 'perseverance', 'defensive', 'maintaining'],
    keywordsKr: ['도전', '인내', '방어', '유지'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Eight of Wands',
    nameKr: '완드 8',
    meaning: 'Swiftness, speed, progress, quick decisions',
    meaningKr: '신속함, 속도, 진전, 빠른 결정을 의미합니다.',
    keywords: ['speed', 'progress', 'movement', 'action'],
    keywordsKr: ['속도', '진전', '움직임', '행동'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Nine of Wands',
    nameKr: '완드 9',
    meaning: 'Resilience, courage, persistence, test of faith',
    meaningKr: '회복력, 용기, 끈기, 믿음의 시험을 의미합니다.',
    keywords: ['resilience', 'persistence', 'courage', 'boundaries'],
    keywordsKr: ['회복력', '끈기', '용기', '경계'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Ten of Wands',
    nameKr: '완드 10',
    meaning: 'Burden, extra responsibility, hard work, achievement',
    meaningKr: '부담, 추가 책임, 힘든 일, 성취를 의미합니다.',
    keywords: ['burden', 'responsibility', 'hard work', 'completion'],
    keywordsKr: ['부담', '책임', '힘든 일', '완성'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Page of Wands',
    nameKr: '완드 페이지',
    meaning: 'Exploration, excitement, freedom, adventure',
    meaningKr: '탐험, 흥분, 자유, 모험을 의미합니다.',
    keywords: ['exploration', 'excitement', 'adventure', 'free spirit'],
    keywordsKr: ['탐험', '흥분', '모험', '자유로운 영혼'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Knight of Wands',
    nameKr: '완드 기사',
    meaning: 'Energy, passion, adventure, impulsiveness',
    meaningKr: '에너지, 열정, 모험, 충동성을 의미합니다.',
    keywords: ['energy', 'passion', 'adventure', 'impulsive'],
    keywordsKr: ['에너지', '열정', '모험', '충동적'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'Queen of Wands',
    nameKr: '완드 여왕',
    meaning: 'Courage, confidence, independence, social butterfly',
    meaningKr: '용기, 자신감, 독립성, 사교적 성격을 의미합니다.',
    keywords: ['confidence', 'independence', 'warmth', 'vibrancy'],
    keywordsKr: ['자신감', '독립성', '온화함', '활기'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  {
    name: 'King of Wands',
    nameKr: '완드 왕',
    meaning: 'Natural leader, vision, entrepreneur, honour',
    meaningKr: '타고난 지도자, 비전, 기업가 정신, 명예를 의미합니다.',
    keywords: ['leadership', 'vision', 'entrepreneur', 'honour'],
    keywordsKr: ['지도력', '비전', '기업가정신', '명예'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Fire',
    suit: 'Wands',
    type: 'Minor Arcana'
  },
  
  // 컵 수트 (14장)
  {
    name: 'Ace of Cups',
    nameKr: '컵 에이스',
    meaning: 'New relationships, compassion, creativity, love',
    meaningKr: '새로운 관계, 연민, 창의성, 사랑을 의미합니다.',
    keywords: ['love', 'relationships', 'compassion', 'creativity'],
    keywordsKr: ['사랑', '관계', '연민', '창의성'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Two of Cups',
    nameKr: '컵 2',
    meaning: 'Unified love, partnership, mutual attraction, relationships',
    meaningKr: '하나된 사랑, 파트너십, 상호 매력, 관계를 의미합니다.',
    keywords: ['partnership', 'unity', 'love', 'mutual attraction'],
    keywordsKr: ['파트너십', '통합', '사랑', '상호매력'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Three of Cups',
    nameKr: '컵 3',
    meaning: 'Celebration, friendship, creativity, community',
    meaningKr: '축하, 우정, 창의성, 공동체를 의미합니다.',
    keywords: ['celebration', 'friendship', 'creativity', 'community'],
    keywordsKr: ['축하', '우정', '창의성', '공동체'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Four of Cups',
    nameKr: '컵 4',
    meaning: 'Meditation, contemplation, apathy, reevaluation',
    meaningKr: '명상, 숙고, 무관심, 재평가를 의미합니다.',
    keywords: ['meditation', 'contemplation', 'apathy', 'missed opportunities'],
    keywordsKr: ['명상', '숙고', '무관심', '놓친기회'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Five of Cups',
    nameKr: '컵 5',
    meaning: 'Regret, failure, disappointment, pessimism',
    meaningKr: '후회, 실패, 실망, 비관주의를 의미합니다.',
    keywords: ['regret', 'failure', 'disappointment', 'loss'],
    keywordsKr: ['후회', '실패', '실망', '손실'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Six of Cups',
    nameKr: '컵 6',
    meaning: 'Revisiting the past, childhood memories, innocence',
    meaningKr: '과거 재방문, 어린 시절 추억, 순수함을 의미합니다.',
    keywords: ['nostalgia', 'childhood', 'innocence', 'reunion'],
    keywordsKr: ['향수', '어린시절', '순수함', '재회'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Seven of Cups',
    nameKr: '컵 7',
    meaning: 'Opportunities, choices, wishful thinking, illusion',
    meaningKr: '기회들, 선택들, 희망사항, 환상을 의미합니다.',
    keywords: ['opportunities', 'choices', 'illusion', 'fantasy'],
    keywordsKr: ['기회들', '선택들', '환상', '판타지'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Eight of Cups',
    nameKr: '컵 8',
    meaning: 'Disappointment, abandonment, withdrawal, escapism',
    meaningKr: '실망, 포기, 철수, 도피주의를 의미합니다.',
    keywords: ['disappointment', 'abandonment', 'withdrawal', 'seeking deeper meaning'],
    keywordsKr: ['실망', '포기', '철수', '깊은의미추구'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Nine of Cups',
    nameKr: '컵 9',
    meaning: 'Contentment, satisfaction, gratitude, wish come true',
    meaningKr: '만족, 충족감, 감사, 소원 성취를 의미합니다.',
    keywords: ['contentment', 'satisfaction', 'gratitude', 'wishes fulfilled'],
    keywordsKr: ['만족', '충족감', '감사', '소원성취'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Ten of Cups',
    nameKr: '컵 10',
    meaning: 'Divine love, blissful relationships, harmony, alignment',
    meaningKr: '신성한 사랑, 축복받은 관계, 조화, 일치를 의미합니다.',
    keywords: ['happiness', 'harmony', 'alignment', 'bliss'],
    keywordsKr: ['행복', '조화', '일치', '축복'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Page of Cups',
    nameKr: '컵 페이지',
    meaning: 'Creative opportunities, intuitive messages, curiosity',
    meaningKr: '창의적 기회, 직관적 메시지, 호기심을 의미합니다.',
    keywords: ['creativity', 'intuition', 'curiosity', 'new ideas'],
    keywordsKr: ['창의성', '직관', '호기심', '새로운아이디어'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Knight of Cups',
    nameKr: '컵 기사',
    meaning: 'Romance, charm, "knight in shining armor", idealist',
    meaningKr: '로맨스, 매력, "빛나는 갑옷의 기사", 이상주의자를 의미합니다.',
    keywords: ['romance', 'charm', 'idealism', 'following heart'],
    keywordsKr: ['로맨스', '매력', '이상주의', '마음따라가기'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'Queen of Cups',
    nameKr: '컵 여왕',
    meaning: 'Compassion, warmth, kindness, intuition',
    meaningKr: '연민, 온화함, 친절함, 직관을 의미합니다.',
    keywords: ['compassion', 'warmth', 'kindness', 'intuition'],
    keywordsKr: ['연민', '온화함', '친절함', '직관'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  {
    name: 'King of Cups',
    nameKr: '컵 왕',
    meaning: 'Emotional balance, compassion, diplomacy, calmness',
    meaningKr: '감정적 균형, 연민, 외교술, 평온함을 의미합니다.',
    keywords: ['emotional balance', 'compassion', 'diplomacy', 'calmness'],
    keywordsKr: ['감정적균형', '연민', '외교술', '평온함'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Water',
    suit: 'Cups',
    type: 'Minor Arcana'
  },
  
  // 검 수트 (14장)
  {
    name: 'Ace of Swords',
    nameKr: '검 에이스',
    meaning: 'Breakthrough, clarity, sharp mind, new ideas',
    meaningKr: '돌파구, 명료함, 예리한 정신, 새로운 아이디어를 의미합니다.',
    keywords: ['breakthrough', 'clarity', 'mental clarity', 'new ideas'],
    keywordsKr: ['돌파구', '명료함', '정신적명료함', '새로운아이디어'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Two of Swords',
    nameKr: '검 2',
    meaning: 'Difficult decisions, weighing options, an impasse',
    meaningKr: '어려운 결정, 선택 저울질, 교착상태를 의미합니다.',
    keywords: ['difficult decisions', 'weighing options', 'impasse', 'blocked emotions'],
    keywordsKr: ['어려운결정', '선택저울질', '교착상태', '막힌감정'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Three of Swords',
    nameKr: '검 3',
    meaning: 'Heartbreak, emotional pain, sorrow, grief',
    meaningKr: '상심, 감정적 고통, 슬픔, 애도를 의미합니다.',
    keywords: ['heartbreak', 'emotional pain', 'sorrow', 'grief'],
    keywordsKr: ['상심', '감정적고통', '슬픔', '애도'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Four of Swords',
    nameKr: '검 4',
    meaning: 'Rest, relaxation, meditation, contemplation',
    meaningKr: '휴식, 이완, 명상, 사색을 의미합니다.',
    keywords: ['rest', 'relaxation', 'meditation', 'contemplation'],
    keywordsKr: ['휴식', '이완', '명상', '사색'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Five of Swords',
    nameKr: '검 5',
    meaning: 'Conflict, disagreements, competition, defeat',
    meaningKr: '갈등, 의견 불일치, 경쟁, 패배를 의미합니다.',
    keywords: ['conflict', 'disagreements', 'competition', 'win at all costs'],
    keywordsKr: ['갈등', '의견불일치', '경쟁', '무리한승리'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Six of Swords',
    nameKr: '검 6',
    meaning: 'Transition, change, rite of passage, moving on',
    meaningKr: '전환, 변화, 통과의례, 앞으로 나아가기를 의미합니다.',
    keywords: ['transition', 'change', 'rite of passage', 'moving on'],
    keywordsKr: ['전환', '변화', '통과의례', '앞으로나아가기'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Seven of Swords',
    nameKr: '검 7',
    meaning: 'Betrayal, deception, getting away with something',
    meaningKr: '배신, 속임수, 어떤 일을 넘기는 것을 의미합니다.',
    keywords: ['betrayal', 'deception', 'getting away with something', 'strategic withdrawal'],
    keywordsKr: ['배신', '속임수', '어떤일을넘기기', '전략적철수'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Eight of Swords',
    nameKr: '검 8',
    meaning: 'Imprisonment, entrapment, self-victimization',
    meaningKr: '감금, 함정, 자기 희생양 만들기를 의미합니다.',
    keywords: ['imprisonment', 'entrapment', 'self-victimization', 'negative thoughts'],
    keywordsKr: ['감금', '함정', '자기희생양만들기', '부정적생각'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Nine of Swords',
    nameKr: '검 9',
    meaning: 'Anxiety, worry, fear, depression, nightmares',
    meaningKr: '불안, 걱정, 두려움, 우울, 악몽을 의미합니다.',
    keywords: ['anxiety', 'worry', 'fear', 'depression'],
    keywordsKr: ['불안', '걱정', '두려움', '우울'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Ten of Swords',
    nameKr: '검 10',
    meaning: 'Painful endings, deep wounds, betrayal, loss',
    meaningKr: '고통스러운 끝, 깊은 상처, 배신, 손실을 의미합니다.',
    keywords: ['painful endings', 'deep wounds', 'betrayal', 'loss'],
    keywordsKr: ['고통스러운끝', '깊은상처', '배신', '손실'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Page of Swords',
    nameKr: '검 페이지',
    meaning: 'Curiosity, restlessness, mental energy, vigilance',
    meaningKr: '호기심, 불안함, 정신적 에너지, 경계심을 의미합니다.',
    keywords: ['curiosity', 'restlessness', 'mental energy', 'vigilance'],
    keywordsKr: ['호기심', '불안함', '정신적에너지', '경계심'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Knight of Swords',
    nameKr: '검 기사',
    meaning: 'Ambitious, action-oriented, driven to succeed',
    meaningKr: '야심찬, 행동 지향적, 성공 욕구가 강한 것을 의미합니다.',
    keywords: ['ambitious', 'action-oriented', 'driven to succeed', 'fast thinking'],
    keywordsKr: ['야심찬', '행동지향적', '성공욕구강한', '빠른사고'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'Queen of Swords',
    nameKr: '검 여왕',
    meaning: 'Independence, unbiased judgement, clear boundaries',
    meaningKr: '독립성, 편견 없는 판단, 명확한 경계를 의미합니다.',
    keywords: ['independence', 'unbiased judgement', 'clear boundaries', 'direct communication'],
    keywordsKr: ['독립성', '편견없는판단', '명확한경계', '직접적소통'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  {
    name: 'King of Swords',
    nameKr: '검 왕',
    meaning: 'Mental clarity, intellectual power, authority, truth',
    meaningKr: '정신적 명료함, 지적 힘, 권위, 진실을 의미합니다.',
    keywords: ['mental clarity', 'intellectual power', 'authority', 'truth'],
    keywordsKr: ['정신적명료함', '지적힘', '권위', '진실'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Air',
    suit: 'Swords',
    type: 'Minor Arcana'
  },
  
  // 펜타클 수트 (14장)
  {
    name: 'Ace of Pentacles',
    nameKr: '펜타클 에이스',
    meaning: 'Manifestation, new financial opportunity, prosperity',
    meaningKr: '실현, 새로운 재정 기회, 번영을 의미합니다.',
    keywords: ['manifestation', 'prosperity', 'new opportunity', 'abundance'],
    keywordsKr: ['실현', '번영', '새로운기회', '풍요'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Two of Pentacles',
    nameKr: '펜타클 2',
    meaning: 'Multiple priorities, time management, prioritisation',
    meaningKr: '다중 우선순위, 시간 관리, 우선순위 매기기를 의미합니다.',
    keywords: ['multiple priorities', 'time management', 'prioritisation', 'adaptability'],
    keywordsKr: ['다중우선순위', '시간관리', '우선순위매기기', '적응성'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Three of Pentacles',
    nameKr: '펜타클 3',
    meaning: 'Teamwork, collaboration, learning, implementation',
    meaningKr: '팀워크, 협력, 학습, 구현을 의미합니다.',
    keywords: ['teamwork', 'collaboration', 'learning', 'implementation'],
    keywordsKr: ['팀워크', '협력', '학습', '구현'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Four of Pentacles',
    nameKr: '펜타클 4',
    meaning: 'Saving money, security, conservatism, scarcity',
    meaningKr: '돈 저축, 보안, 보수주의, 부족함을 의미합니다.',
    keywords: ['saving money', 'security', 'conservatism', 'control'],
    keywordsKr: ['돈저축', '보안', '보수주의', '통제'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Five of Pentacles',
    nameKr: '펜타클 5',
    meaning: 'Financial loss, poverty, lack mindset, isolation',
    meaningKr: '재정 손실, 가난, 결핍 사고, 고립을 의미합니다.',
    keywords: ['financial loss', 'poverty', 'lack mindset', 'isolation'],
    keywordsKr: ['재정손실', '가난', '결핍사고', '고립'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Six of Pentacles',
    nameKr: '펜타클 6',
    meaning: 'Giving, receiving, sharing wealth, generosity',
    meaningKr: '주기, 받기, 부의 나눔, 관대함을 의미합니다.',
    keywords: ['giving', 'receiving', 'sharing wealth', 'generosity'],
    keywordsKr: ['주기', '받기', '부의나눔', '관대함'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Seven of Pentacles',
    nameKr: '펜타클 7',
    meaning: 'Long-term view, sustainable results, perseverance',
    meaningKr: '장기적 관점, 지속 가능한 결과, 인내를 의미합니다.',
    keywords: ['long-term view', 'sustainable results', 'perseverance', 'investment'],
    keywordsKr: ['장기적관점', '지속가능한결과', '인내', '투자'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Eight of Pentacles',
    nameKr: '펜타클 8',
    meaning: 'Apprenticeship, repetitive tasks, mastery, skill development',
    meaningKr: '견습, 반복 작업, 숙련, 기술 개발을 의미합니다.',
    keywords: ['apprenticeship', 'repetitive tasks', 'mastery', 'skill development'],
    keywordsKr: ['견습', '반복작업', '숙련', '기술개발'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Nine of Pentacles',
    nameKr: '펜타클 9',
    meaning: 'Abundance, luxury, self-sufficiency, financial independence',
    meaningKr: '풍요, 사치, 자급자족, 재정 독립을 의미합니다.',
    keywords: ['abundance', 'luxury', 'self-sufficiency', 'financial independence'],
    keywordsKr: ['풍요', '사치', '자급자족', '재정독립'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Ten of Pentacles',
    nameKr: '펜타클 10',
    meaning: 'Wealth, financial security, family, long-term success',
    meaningKr: '부, 재정 안정, 가족, 장기적 성공을 의미합니다.',
    keywords: ['wealth', 'financial security', 'family', 'long-term success'],
    keywordsKr: ['부', '재정안정', '가족', '장기적성공'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Page of Pentacles',
    nameKr: '펜타클 페이지',
    meaning: 'Manifestation, financial opportunity, skill development',
    meaningKr: '현실화, 재정 기회, 기술 개발을 의미합니다.',
    keywords: ['manifestation', 'financial opportunity', 'skill development', 'studiousness'],
    keywordsKr: ['현실화', '재정기회', '기술개발', '근면함'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Knight of Pentacles',
    nameKr: '펜타클 기사',
    meaning: 'Hard work, productivity, routine, conservatism',
    meaningKr: '근면한 일, 생산성, 일상, 보수주의를 의미합니다.',
    keywords: ['hard work', 'productivity', 'routine', 'conservatism'],
    keywordsKr: ['근면한일', '생산성', '일상', '보수주의'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'Queen of Pentacles',
    nameKr: '펜타클 여왕',
    meaning: 'Nurturing, practical, providing financially and emotionally',
    meaningKr: '양육, 실용적, 재정적·감정적 제공을 의미합니다.',
    keywords: ['nurturing', 'practical', 'providing financially', 'down to earth'],
    keywordsKr: ['양육', '실용적', '재정적제공', '현실적'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  },
  {
    name: 'King of Pentacles',
    nameKr: '펜타클 왕',
    meaning: 'Financial success, leadership, security, disciplined',
    meaningKr: '재정적 성공, 지도력, 안전, 규율을 의미합니다.',
    keywords: ['financial success', 'leadership', 'security', 'disciplined'],
    keywordsKr: ['재정적성공', '지도력', '안전', '규율'],
    imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400',
    element: 'Earth',
    suit: 'Pentacles',
    type: 'Minor Arcana'
  }
];

// 24시간 카드 생성 함수
export const generateDailyCards = (seedDate: Date): TarotCard[] => {
  const seed = seedDate.getFullYear() * 10000 + 
               (seedDate.getMonth() + 1) * 100 + 
               seedDate.getDate();
  
  const cards: TarotCard[] = [];
  let randomSeed = seed;
  
  // 의사랜덤 함수
  const seededRandom = () => {
    randomSeed = (randomSeed * 9301 + 49297) % 233280;
    return randomSeed / 233280;
  };
  
  // 24장의 카드 생성 (중복 허용)
  for (let hour = 0; hour < 24; hour++) {
    const cardIndex = Math.floor(seededRandom() * ALL_TAROT_CARDS.length);
    const baseCard = ALL_TAROT_CARDS[cardIndex];
    
    const card: TarotCard = {
      ...baseCard,
      id: hour + 1, // 시간별 고유 ID
    };
    
    cards.push(card);
  }
  
  return cards;
};

// 스프레드용 카드 생성 함수
export const generateSpreadCards = (count: number, seed?: number): TarotCard[] => {
  const cards: TarotCard[] = [];
  let randomSeed = seed || Date.now();
  
  const seededRandom = () => {
    randomSeed = (randomSeed * 9301 + 49297) % 233280;
    return randomSeed / 233280;
  };
  
  const usedCards = new Set<number>();
  
  for (let i = 0; i < count; i++) {
    let cardIndex;
    do {
      cardIndex = Math.floor(seededRandom() * ALL_TAROT_CARDS.length);
    } while (usedCards.has(cardIndex) && usedCards.size < ALL_TAROT_CARDS.length);
    
    if (usedCards.size < ALL_TAROT_CARDS.length) {
      usedCards.add(cardIndex);
    }
    
    const baseCard = ALL_TAROT_CARDS[cardIndex] || ALL_TAROT_CARDS[0];
    const card: TarotCard = {
      ...baseCard,
      id: i + 1,
    };
    
    cards.push(card);
  }
  
  return cards;
};

// localStorage 관리 함수들 (웹용)
const DAILY_TAROT_KEY = 'daily_tarot_saves';
const SPREAD_SAVES_KEY = 'spread_saves';

export const saveDailyTarot = async (save: DailyTarotSave): Promise<void> => {
  try {
    const existingSaves = await loadDailyTarotSaves();
    const updatedSaves = existingSaves.filter(s => s.date !== save.date);
    updatedSaves.push(save);
    
    // 최근 30일 기록만 유지
    const thirtyDaysAgo = new Date();
    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
    
    const filteredSaves = updatedSaves.filter(s => 
      new Date(s.date) >= thirtyDaysAgo
    );
    
    localStorage.setItem(DAILY_TAROT_KEY, JSON.stringify(filteredSaves));
  } catch (error) {
    console.error('Error saving daily tarot:', error);
    throw error;
  }
};

export const loadDailyTarotSaves = async (): Promise<DailyTarotSave[]> => {
  try {
    const saved = localStorage.getItem(DAILY_TAROT_KEY);
    return saved ? JSON.parse(saved) : [];
  } catch (error) {
    console.error('Error loading daily tarot saves:', error);
    return [];
  }
};

export const getTodaysSave = async (): Promise<DailyTarotSave | null> => {
  try {
    const today = new Date().toDateString();
    const saves = await loadDailyTarotSaves();
    return saves.find(save => save.date === today) || null;
  } catch (error) {
    console.error('Error getting today\'s save:', error);
    return null;
  }
};

export const saveSpreadReading = async (save: SpreadSave): Promise<void> => {
  try {
    const existingSaves = await loadSpreadSaves();
    existingSaves.unshift(save); // 최신순으로 추가
    
    // 최대 100개 기록만 유지
    const limitedSaves = existingSaves.slice(0, 100);
    
    localStorage.setItem(SPREAD_SAVES_KEY, JSON.stringify(limitedSaves));
  } catch (error) {
    console.error('Error saving spread reading:', error);
    throw error;
  }
};

export const loadSpreadSaves = async (): Promise<SpreadSave[]> => {
  try {
    const saved = localStorage.getItem(SPREAD_SAVES_KEY);
    return saved ? JSON.parse(saved) : [];
  } catch (error) {
    console.error('Error loading spread saves:', error);
    return [];
  }
};

// 스프레드 타입 정의
export const SPREAD_TYPES: SpreadType[] = [
  {
    id: 'one-card',
    name: 'One Card Spread',
    nameKr: '1카드 스프레드',
    description: 'A simple yet powerful spread for daily guidance.',
    descriptionKr: '오늘 하루의 핵심 메시지를 전달하는 간단하고 강력한 스프레드입니다.',
    isPremium: false,
    cardCount: 1,
    positions: ['Present Situation'],
    positionsKr: ['현재 상황']
  },
  {
    id: 'three-card',
    name: 'Three Card Spread',
    nameKr: '3카드 스프레드',
    description: 'Past, present, and future insights.',
    descriptionKr: '과거, 현재, 미래의 흐름을 보여주는 기본적인 스프레드입니다.',
    isPremium: false,
    cardCount: 3,
    positions: ['Past', 'Present', 'Future'],
    positionsKr: ['과거', '현재', '미래']
  },
  {
    id: 'four-elements',
    name: 'Four Elements Spread',
    nameKr: '4원소 스프레드',
    description: 'Explore the four elements within your situation.',
    descriptionKr: '상황 속 네 가지 원소의 균형을 탐색하는 스프레드입니다.',
    isPremium: false,
    cardCount: 4,
    positions: ['Fire (Passion)', 'Water (Emotion)', 'Air (Thought)', 'Earth (Material)'],
    positionsKr: ['불 (열정)', '물 (감정)', '공기 (생각)', '땅 (물질)']
  },
  {
    id: 'five-card-v',
    name: 'Five Card V-Spread',
    nameKr: '5카드 V 스프레드',
    description: 'A V-shaped spread for comprehensive insight.',
    descriptionKr: 'V자 형태로 배치하여 포괄적인 통찰을 얻는 스프레드입니다.',
    isPremium: false,
    cardCount: 5,
    positions: ['Distant Past', 'Recent Past', 'Present', 'Near Future', 'Distant Future'],
    positionsKr: ['먼 과거', '최근 과거', '현재', '가까운 미래', '먼 미래']
  },
  {
    id: 'celtic-cross',
    name: 'Celtic Cross',
    nameKr: '켈틱 크로스',
    description: 'The most comprehensive tarot spread for deep insights.',
    descriptionKr: '타로의 왕좌, 가장 완벽하고 깊이 있는 통찰을 제공하는 전문가 스프레드입니다.',
    isPremium: true,
    cardCount: 10,
    positions: [
      'Present Situation',
      'Cross/Challenge', 
      'Distant Past/Foundation',
      'Recent Past',
      'Possible Outcome',
      'Immediate Future',
      'Your Approach',
      'External Influences',
      'Hopes and Fears',
      'Final Outcome'
    ],
    positionsKr: [
      '현재 상황',
      '장애물/도전',
      '먼 과거/기반',
      '최근 과거',
      '가능한 결과',
      '가까운 미래',
      '당신의 접근법',
      '외부 영향',
      '희망과 두려움',
      '최종 결과'
    ]
  },
  {
    id: 'relationship-spread',
    name: 'Cup of Relationship',
    nameKr: '컵 오브 릴레이션십',
    description: 'Explore the dynamics of any relationship.',
    descriptionKr: '모든 관계의 역학을 깊이 있게 탐구하는 전문 스프레드입니다.',
    isPremium: true,
    cardCount: 7,
    positions: [
      'You',
      'The Other Person',
      'The Relationship',
      'What You Bring',
      'What They Bring',
      'Common Ground',
      'Potential Future'
    ],
    positionsKr: [
      '당신',
      '상대방',
      '관계 자체',
      '당신이 가져오는 것',
      '상대방이 가져오는 것',
      '공통점',
      '잠재적 미래'
    ]
  },
  {
    id: 'choice-spread',
    name: 'A or B Choice Spread',
    nameKr: 'A/B 선택 스프레드',
    description: 'When facing a difficult decision between two options.',
    descriptionKr: '두 가지 선택 사이에서 고민할 때 명확한 방향을 제시하는 스프레드입니다.',
    isPremium: true,
    cardCount: 6,
    positions: [
      'Current Situation',
      'Option A',
      'Option B',
      'What You Need to Know',
      'Likely Outcome A',
      'Likely Outcome B'
    ],
    positionsKr: [
      '현재 상황',
      '선택 A',
      '선택 B', 
      '알아야 할 것',
      '결과 A',
      '결과 B'
    ]
  }
];

// 샘플 데이터 생성 함수들
export const generateSampleDailyData = (): DailyTarotSave[] => {
  const samples: DailyTarotSave[] = [];
  
  for (let i = 0; i < 7; i++) {
    const date = new Date();
    date.setDate(date.getDate() - i);
    
    const cards = generateDailyCards(date);
    const memos: { [hour: number]: string } = {};
    
    // 랜덤하게 몇 시간에 메모 추가
    for (let hour = 0; hour < 24; hour++) {
      if (Math.random() > 0.7) {
        memos[hour] = `${hour}시의 특별한 메시지입니다.`;
      }
    }
    
    samples.push({
      id: `daily-${date.toDateString()}`,
      date: date.toDateString(),
      hourlyCards: cards,
      memos,
      insights: `${formatDate(date)}의 전체적인 흐름과 메시지입니다.`,
      savedAt: date.toISOString()
    });
  }
  
  return samples;
};

export const generateSampleSpreadData = (): SpreadSave[] => {
  const samples: SpreadSave[] = [];
  const questions = [
    "오늘 하루 어떻게 보내야 할까요?",
    "새로운 프로젝트를 시작해도 될까요?",
    "지금 상황에서 가장 중요한 것은 무엇인가요?",
    "앞으로의 관계는 어떻게 될까요?",
    "내가 놓치고 있는 것은 무엇인가요?"
  ];
  
  SPREAD_TYPES.forEach((spreadType, index) => {
    const date = new Date();
    date.setDate(date.getDate() - index);
    
    const cards = generateSpreadCards(spreadType.cardCount, Date.now() + index);
    
    samples.push({
      id: `spread-${spreadType.id}-${date.toDateString()}`,
      date: date.toDateString(),
      spreadType: spreadType.id,
      question: questions[index % questions.length],
      cards,
      positions: spreadType.positions,
      interpretation: `${spreadType.nameKr}으로 본 해석입니다.`,
      insights: `${formatDate(date)}에 받은 메시지와 통찰입니다.`,
      savedAt: date.toISOString()
    });
  });
  
  return samples;
};

// 유틸리티 함수들
export const getCardById = (id: number): TarotCard | undefined => {
  return ALL_TAROT_CARDS.map((card, index) => ({ ...card, id: index + 1 })).find(card => card.id === id);
};

export const getSpreadTypeById = (id: string): SpreadType | undefined => {
  return SPREAD_TYPES.find(spread => spread.id === id);
};

export const shuffleCards = (cards: TarotCard[]): TarotCard[] => {
  const shuffled = [...cards];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }
  return shuffled;
};

export const getRandomCards = (count: number): TarotCard[] => {
  const allCardsWithId = ALL_TAROT_CARDS.map((card, index) => ({ ...card, id: index + 1 }));
  const shuffled = shuffleCards(allCardsWithId);
  return shuffled.slice(0, count);
};

// 모든 카드 데이터 내보내기 (ID 포함)
export const getAllCards = (): TarotCard[] => {
  return ALL_TAROT_CARDS.map((card, index) => ({ ...card, id: index + 1 }));
};

// 카드 검색 함수
export const searchCards = (query: string): TarotCard[] => {
  const allCards = getAllCards();
  const lowerQuery = query.toLowerCase();
  
  return allCards.filter(card => 
    card.name.toLowerCase().includes(lowerQuery) ||
    card.nameKr.includes(lowerQuery) ||
    card.keywords.some(keyword => keyword.toLowerCase().includes(lowerQuery)) ||
    card.keywordsKr.some(keyword => keyword.includes(lowerQuery)) ||
    card.suit.toLowerCase().includes(lowerQuery) ||
    card.type.toLowerCase().includes(lowerQuery)
  );
};

// 수트별 카드 필터링
export const getCardsBySuit = (suit: string): TarotCard[] => {
  const allCards = getAllCards();
  return allCards.filter(card => card.suit === suit);
};

// 타입별 카드 필터링
export const getCardsByType = (type: 'Major Arcana' | 'Minor Arcana'): TarotCard[] => {
  const allCards = getAllCards();
  return allCards.filter(card => card.type === type);
};

// ===== 스프레드 시스템 추가 =====

// 스프레드 포지션 인터페이스
export interface SpreadPosition {
  id: string;
  name: string;
  nameKr: string;
  description: string;
  descriptionKr: string;
  x: number; // 화면상 위치 (%)
  y: number; // 화면상 위치 (%)
}

// 스프레드 카드 (포지션 + 카드)
export interface SpreadCard {
  position: SpreadPosition;
  card: TarotCard;
  interpretation?: string;
}

// 스프레드 타입 (기존 인터페이스 확장)
export interface SpreadTypeExtended {
  id: string;
  name: string;
  nameKr: string;
  description: string;
  descriptionKr: string;
  isPremium: boolean;
  cardCount: number;
  positions: SpreadPosition[];
}

// 저장된 스프레드
export interface SavedSpread {
  id: string;
  title: string;
  spreadType: string;
  spreadName: string;
  date: string;
  cards: SpreadCard[];
  insights: string;
  savedAt: string;
}

// 완전한 스프레드 타입 데이터
export const SPREAD_TYPES: SpreadTypeExtended[] = [
  {
    id: 'one-card',
    name: 'One Card Spread',
    nameKr: '1카드 스프레드',
    description: 'A simple yet powerful spread for daily guidance and quick insights.',
    descriptionKr: '오늘 하루의 핵심 메시지를 전달하는 간단하고 강력한 스프레드입니다.',
    isPremium: false,
    cardCount: 1,
    positions: [
      {
        id: 'center',
        name: 'Main Message',
        nameKr: '핵심 메시지',
        description: 'The primary guidance for your situation',
        descriptionKr: '현재 상황에 대한 주요 안내',
        x: 50,
        y: 50
      }
    ]
  },
  {
    id: 'three-card',
    name: 'Three Card Spread',
    nameKr: '3카드 스프레드',
    description: 'Past, present, and future insights for comprehensive understanding.',
    descriptionKr: '과거, 현재, 미래의 흐름을 보여주는 기본적인 스프레드입니다.',
    isPremium: false,
    cardCount: 3,
    positions: [
      {
        id: 'past',
        name: 'Past',
        nameKr: '과거',
        description: 'Past influences affecting your current situation',
        descriptionKr: '현재 상황에 영향을 미치는 과거의 요인',
        x: 20,
        y: 50
      },
      {
        id: 'present',
        name: 'Present',
        nameKr: '현재',
        description: 'Your current situation and immediate circumstances',
        descriptionKr: '현재 상황과 즉각적인 환경',
        x: 50,
        y: 50
      },
      {
        id: 'future',
        name: 'Future',
        nameKr: '미래',
        description: 'Potential outcomes and future developments',
        descriptionKr: '잠재적 결과와 미래의 전개',
        x: 80,
        y: 50
      }
    ]
  },
  {
    id: 'four-card',
    name: 'Four Card Cross',
    nameKr: '4카드 크로스',
    description: 'A balanced spread examining all aspects of your situation.',
    descriptionKr: '현재 상황을 다각도로 분석하는 균형잡힌 스프레드입니다.',
    isPremium: false,
    cardCount: 4,
    positions: [
      {
        id: 'north',
        name: 'What to embrace',
        nameKr: '받아들일 것',
        description: 'What you should embrace or focus on',
        descriptionKr: '받아들이거나 집중해야 할 것',
        x: 50,
        y: 20
      },
      {
        id: 'east',
        name: 'External influences',
        nameKr: '외부 영향',
        description: 'External factors affecting your situation',
        descriptionKr: '상황에 영향을 미치는 외부 요인',
        x: 80,
        y: 50
      },
      {
        id: 'south',
        name: 'What to release',
        nameKr: '놓아줄 것',
        description: 'What you should let go or move away from',
        descriptionKr: '놓아주거나 멀어져야 할 것',
        x: 50,
        y: 80
      },
      {
        id: 'west',
        name: 'Internal guidance',
        nameKr: '내면의 안내',
        description: 'Your inner wisdom and intuitive guidance',
        descriptionKr: '내면의 지혜와 직관적 안내',
        x: 20,
        y: 50
      }
    ]
  },
  {
    id: 'five-card',
    name: 'Five Card V Spread',
    nameKr: '5카드 V 스프레드',
    description: 'Deep insights into complex situations with root causes and solutions.',
    descriptionKr: '복잡한 상황의 근본 원인과 해결책을 찾는 심화 스프레드입니다.',
    isPremium: false,
    cardCount: 5,
    positions: [
      {
        id: 'guidance',
        name: 'Guidance',
        nameKr: '안내',
        description: 'Advice and recommended action',
        descriptionKr: '조언과 권장되는 행동',
        x: 50,
        y: 20
      },
      {
        id: 'past_influence',
        name: 'Past Influence',
        nameKr: '과거 영향',
        description: 'How the past is influencing the present',
        descriptionKr: '과거가 현재에 미치는 영향',
        x: 25,
        y: 40
      },
      {
        id: 'future_influence',
        name: 'Future Influence',
        nameKr: '미래 영향',
        description: 'Emerging influences and trends',
        descriptionKr: '새롭게 나타나는 영향과 흐름',
        x: 75,
        y: 40
      },
      {
        id: 'present_situation',
        name: 'Present',
        nameKr: '현재 상황',
        description: 'Your current circumstances',
        descriptionKr: '현재의 상황',
        x: 50,
        y: 60
      },
      {
        id: 'root_cause',
        name: 'Root Cause',
        nameKr: '근본 원인',
        description: 'The underlying cause of your situation',
        descriptionKr: '상황의 근본적인 원인',
        x: 50,
        y: 80
      }
    ]
  },
  {
    id: 'celtic-cross',
    name: 'Celtic Cross',
    nameKr: '켈틱 크로스',
    description: 'The most comprehensive tarot spread providing deep insights into all aspects of life.',
    descriptionKr: '타로의 왕좌, 가장 완벽하고 깊이 있는 통찰을 제공하는 전문가 스프레드입니다.',
    isPremium: true,
    cardCount: 10,
    positions: [
      {
        id: 'present',
        name: 'Present Situation',
        nameKr: '현재 상황',
        description: 'Your current situation and state of mind',
        descriptionKr: '현재 상황과 마음의 상태',
        x: 40,
        y: 50
      },
      {
        id: 'challenge',
        name: 'Challenge',
        nameKr: '도전과제',
        description: 'The challenge or obstacle you face',
        descriptionKr: '마주한 도전과제나 장애물',
        x: 40,
        y: 35
      },
      {
        id: 'distant_past',
        name: 'Distant Past',
        nameKr: '원거리 과거',
        description: 'Foundation of the situation',
        descriptionKr: '상황의 토대가 되는 과거',
        x: 25,
        y: 50
      },
      {
        id: 'recent_past',
        name: 'Recent Past',
        nameKr: '최근 과거',
        description: 'Recent past events affecting now',
        descriptionKr: '현재에 영향을 미치는 최근 과거',
        x: 40,
        y: 65
      },
      {
        id: 'possible_outcome',
        name: 'Possible Outcome',
        nameKr: '가능한 결과',
        description: 'Potential outcome if current path continues',
        descriptionKr: '현재 경로를 계속 따를 때의 잠재적 결과',
        x: 40,
        y: 20
      },
      {
        id: 'immediate_future',
        name: 'Immediate Future',
        nameKr: '가까운 미래',
        description: 'What will happen in the near future',
        descriptionKr: '가까운 미래에 일어날 일',
        x: 55,
        y: 50
      },
      {
        id: 'your_approach',
        name: 'Your Approach',
        nameKr: '당신의 접근법',
        description: 'Your approach to the situation',
        descriptionKr: '상황에 대한 당신의 접근법',
        x: 75,
        y: 80
      },
      {
        id: 'external_influences',
        name: 'External Influences',
        nameKr: '외부 영향',
        description: 'How others see you or external influences',
        descriptionKr: '타인이 보는 당신의 모습이나 외부 영향',
        x: 75,
        y: 65
      },
      {
        id: 'hopes_fears',
        name: 'Hopes & Fears',
        nameKr: '희망과 두려움',
        description: 'Your inner hopes and fears',
        descriptionKr: '내면의 희망과 두려움',
        x: 75,
        y: 50
      },
      {
        id: 'final_outcome',
        name: 'Final Outcome',
        nameKr: '최종 결과',
        description: 'The ultimate outcome',
        descriptionKr: '궁극적인 결과',
        x: 75,
        y: 35
      }
    ]
  },
  {
    id: 'cup-of-relationship',
    name: 'Cup of Relationship',
    nameKr: '컵 오브 릴레이션십',
    description: 'A specialized spread for deep analysis of love and relationship matters.',
    descriptionKr: '사랑과 관계의 모든 측면을 세밀하게 분석하는 특별한 연애 전용 스프레드입니다.',
    isPremium: true,
    cardCount: 7,
    positions: [
      {
        id: 'your_heart',
        name: 'Your Heart',
        nameKr: '당신의 마음',
        description: 'Your true feelings and desires',
        descriptionKr: '당신의 진정한 감정과 욕망',
        x: 30,
        y: 30
      },
      {
        id: 'their_heart',
        name: 'Their Heart',
        nameKr: '상대방의 마음',
        description: "The other person's feelings",
        descriptionKr: '상대방의 감정',
        x: 70,
        y: 30
      },
      {
        id: 'connection',
        name: 'Connection',
        nameKr: '연결',
        description: 'The energy between you both',
        descriptionKr: '두 사람 사이의 에너지',
        x: 50,
        y: 20
      },
      {
        id: 'challenges',
        name: 'Challenges',
        nameKr: '도전과제',
        description: 'Obstacles in the relationship',
        descriptionKr: '관계에서의 장애물',
        x: 20,
        y: 60
      },
      {
        id: 'strengths',
        name: 'Strengths',
        nameKr: '강점',
        description: 'What works well in your connection',
        descriptionKr: '관계에서 잘 작동하는 것들',
        x: 80,
        y: 60
      },
      {
        id: 'guidance',
        name: 'Guidance',
        nameKr: '안내',
        description: 'Advice for the relationship',
        descriptionKr: '관계를 위한 조언',
        x: 50,
        y: 50
      },
      {
        id: 'outcome',
        name: 'Outcome',
        nameKr: '결과',
        description: 'Potential future of the relationship',
        descriptionKr: '관계의 잠재적 미래',
        x: 50,
        y: 80
      }
    ]
  },
  {
    id: 'ab-choice',
    name: 'AB Choice Spread',
    nameKr: 'AB 선택 스프레드',
    description: 'Perfect for making decisions between two options with clear guidance.',
    descriptionKr: '두 개의 선택지 사이에서 올바른 결정을 내리도록 도와주는 결정 전용 스프레드입니다.',
    isPremium: true,
    cardCount: 7,
    positions: [
      {
        id: 'situation',
        name: 'Current Situation',
        nameKr: '현재 상황',
        description: 'Your current circumstances requiring a decision',
        descriptionKr: '결정이 필요한 현재 상황',
        x: 50,
        y: 20
      },
      {
        id: 'option_a',
        name: 'Option A',
        nameKr: '선택지 A',
        description: 'The nature and energy of the first option',
        descriptionKr: '첫 번째 선택지의 성격과 에너지',
        x: 25,
        y: 40
      },
      {
        id: 'option_b',
        name: 'Option B',
        nameKr: '선택지 B',
        description: 'The nature and energy of the second option',
        descriptionKr: '두 번째 선택지의 성격과 에너지',
        x: 75,
        y: 40
      },
      {
        id: 'outcome_a',
        name: 'Outcome A',
        nameKr: '결과 A',
        description: 'Potential outcome if you choose option A',
        descriptionKr: '선택지 A를 선택했을 때의 잠재적 결과',
        x: 25,
        y: 60
      },
      {
        id: 'outcome_b',
        name: 'Outcome B',
        nameKr: '결과 B',
        description: 'Potential outcome if you choose option B',
        descriptionKr: '선택지 B를 선택했을 때의 잠재적 결과',
        x: 75,
        y: 60
      },
      {
        id: 'hidden_factor',
        name: 'Hidden Factor',
        nameKr: '숨겨진 요인',
        description: 'Something you may not be considering',
        descriptionKr: '고려하지 못했을 수도 있는 요인',
        x: 50,
        y: 50
      },
      {
        id: 'guidance',
        name: 'Guidance',
        nameKr: '안내',
        description: 'Spiritual guidance for your decision',
        descriptionKr: '결정을 위한 영적 안내',
        x: 50,
        y: 80
      }
    ]
  }
];

// ===== 스프레드 관련 유틸리티 함수들 =====

// 스프레드 카드 생성
export const generateSpreadCards = (spreadType: SpreadTypeExtended): TarotCard[] => {
  const allCards = getAllCards();
  const usedCards = new Set<number>();
  const selectedCards: TarotCard[] = [];
  
  // 현재 시간을 시드로 사용하여 매번 다른 카드 조합 생성
  const seed = Date.now();
  let randomSeed = seed;
  
  const seededRandom = () => {
    randomSeed = (randomSeed * 9301 + 49297) % 233280;
    return randomSeed / 233280;
  };
  
  for (let i = 0; i < spreadType.cardCount; i++) {
    let cardIndex;
    do {
      cardIndex = Math.floor(seededRandom() * allCards.length);
    } while (usedCards.has(cardIndex) && usedCards.size < allCards.length);
    
    usedCards.add(cardIndex);
    selectedCards.push(allCards[cardIndex]);
  }
  
  return selectedCards;
};

// 스프레드와 카드를 조합하여 SpreadCard 배열 생성
export const createSpreadReading = (spreadType: SpreadTypeExtended, cards: TarotCard[]): SpreadCard[] => {
  return spreadType.positions.map((position, index) => ({
    position,
    card: cards[index] || cards[0], // 안전장치
    interpretation: `${position.nameKr}에서의 ${cards[index]?.nameKr || '카드'} 해석`
  }));
};

// 스프레드 저장
const SAVED_SPREADS_KEY = 'saved_spreads';

export const saveSpread = async (spread: SavedSpread): Promise<void> => {
  try {
    const existingSpreads = await loadSavedSpreads();
    const updatedSpreads = [...existingSpreads, spread];
    
    // 최근 50개 스프레드만 유지
    const filteredSpreads = updatedSpreads.slice(-50);
    
    localStorage.setItem(SAVED_SPREADS_KEY, JSON.stringify(filteredSpreads));
  } catch (error) {
    console.error('Error saving spread:', error);
    throw error;
  }
};

export const loadSavedSpreads = async (): Promise<SavedSpread[]> => {
  try {
    const saved = localStorage.getItem(SAVED_SPREADS_KEY);
    return saved ? JSON.parse(saved) : [];
  } catch (error) {
    console.error('Error loading saved spreads:', error);
    return [];
  }
};

export const deleteSavedSpread = async (spreadId: string): Promise<void> => {
  try {
    const existingSpreads = await loadSavedSpreads();
    const filteredSpreads = existingSpreads.filter(spread => spread.id !== spreadId);
    localStorage.setItem(SAVED_SPREADS_KEY, JSON.stringify(filteredSpreads));
  } catch (error) {
    console.error('Error deleting spread:', error);
    throw error;
  }
};

// 스프레드 타입 조회
export const getSpreadTypeById = (id: string): SpreadTypeExtended | undefined => {
  return SPREAD_TYPES.find(spread => spread.id === id);
};

// 프리미엄 스프레드 필터링
export const getPremiumSpreads = (): SpreadTypeExtended[] => {
  return SPREAD_TYPES.filter(spread => spread.isPremium);
};

export const getFreeSpreads = (): SpreadTypeExtended[] => {
  return SPREAD_TYPES.filter(spread => !spread.isPremium);
};
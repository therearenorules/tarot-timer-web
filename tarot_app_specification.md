# 타로 앱 상세 기능 명세서
**버전**: 2.0  
**최종 업데이트**: 2024-12-19  
**용도**: Claude Code 제작 요청용 상세 명세서 (피그마 실제 구현 기준)

---

## 🎯 전체 앱 구조 개요

### 앱 아키텍처
```
타로 앱 (React Native)
├── 📱 메인 탭 네비게이션 (4개 탭)
│   ├── ⏰ Timer (24시간 타로)
│   ├── 🔮 Spreads (타로 스프레드)
│   ├── 📔 Journal (저장소)
│   └── ⚙️ Settings (설정)
├── 🎨 디자인 시스템
│   ├── 코스믹 그라디언트 배경
│   ├── 황금 액센트 컬러 (#d4af37)
│   └── 신비로운 애니메이션
└── 💾 데이터 저장
    ├── AsyncStorage (로컬 저장)
    ├── 24시간 타로 데이터
    └── 스프레드 리딩 기록
```

### 핵심 데이터 구조
```typescript
// 메인 데이터 타입들
interface TarotCard {
  id: number;
  name: string;
  nameKr: string;
  meaning: string;
  meaningKr: string;
  keywords: string[];
  keywordsKr: string[];
  imageUrl: string;
  element: string;
  suit?: string;
  type: string; // 'Major Arcana', 'Minor Arcana'
}

interface DailyTarotSave {
  id: string;
  date: string; // Date.toDateString() 형식
  hourlyCards: TarotCard[]; // 24개 카드 배열
  memos: Record<number, string>; // 시간별 메모 (0-23시)
  insights: string; // 전체 인사이트
  savedAt: string; // ISO 문자열
}

interface SpreadType {
  id: string;
  name: string;
  nameKr: string;
  description: string;
  descriptionKr: string;
  cardCount: number;
  isPremium: boolean;
}

interface SavedSpread {
  id: string;
  title: string;
  spreadType: string;
  spreadName: string;
  date: string; // ISO 문자열
  cards: TarotCard[];
  insights: string;
  savedAt: string; // ISO 문자열
}
```

---

## ⏰ Timer 탭 - 24시간 타로 시스템

### 📋 주요 기능 개요
24시간 동안 각 시간대별로 하나씩 카드를 뽑아 하루의 흐름을 읽는 시스템. 가로 스크롤로 24개 카드를 진열하고 현재 시간 카드가 강조 표시됩니다.

### 🎯 핵심 프로세스
```
1. 앱 실행 → 2. 오늘 날짜 확인 → 3. 기존 카드 로드 or 카드 뽑기 화면
     ↓
4. "24시간 운명 공개" 버튼 → 5. 24개 카드 가로 스크롤 표시
     ↓
6. 카드 선택 → 7. 메모 작성 → 8. 자동 저장 → 9. 일일 타로 저장
```

### 🏗️ UI 구조 및 레이아웃

#### 상단 헤더 영역
```
┌─────────────────────────────────────┐
│  🌟 24시간 타로 타이머               │
│  2024년 12월 19일 수요일              │
│                                     │
│  ⚡ 14시 (2PM)의 카드                │ ← 선택된 시간 표시
└─────────────────────────────────────┘
```

**기능 상세:**
- 현재 날짜 및 요일 표시 (한국어)
- 선택된 카드의 시간 정보 중앙 표시
- 신비로운 그라디언트 배경 효과

#### 카드 뽑기 화면 (최초 실행시)
```
┌─────────────────────────────────────┐
│            ⚡ 운명 공개              │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │         🔮                      │ │
│  │    "우주의 메시지가              │ │
│  │     당신을 기다립니다"           │ │
│  │                                │ │
│  │                                │ │
│  │    [24시간 운명 공개하기]       │ │
│  └─────────────────────────────────┘ │
│                                     │
│  "하루 동안의 에너지 흐름을 확인하세요" │
└─────────────────────────────────────┘
```

#### 메인 카드 가로 스크롤 영역
```
┌─────────────────────────────────────┐
│ ⚡ 에너지 흐름        [다시뽑기] │
│                                     │
│ ← [0시][1시][2시][3시][4시][5시]... → │
│   ┌───┐┌───┐┌───┐┌⭐─┐┌───┐┌───┐   │
│   │🃏 ││🃏 ││🃏 ││🃏 ││🃏 ││🃏 │   │
│   │   ││   ││   ││   ││   ││   │   │
│   └───┘└───┘└───┘└───┘└───┘└───┘   │
│   0시  1시  2시  3시  4시  5시      │
│                    ↑               │
│               현재 시간 강조          │
│               (흰색 링)             │
└─────────────────────────────────────┘
```

**레이아웃 특징:**
- 24개 카드가 한 줄로 가로 스크롤
- 각 카드 아래에 시간 표시 (0시~23시)
- 현재 시간 카드에 흰색 링 효과
- 선택된 카드는 황금색 링과 확대 효과
- 각 카드 크기: 너비 64px, 높이 96px
- 카드 간격: 12px margin
- 스크롤 최적화 및 터치 반응

#### 카드 상세보기 영역
```
┌─────────────────────────────────────┐
│  ┌─────────────┐  The Fool          │
│  │             │  바보 카드           │
│  │  카드 이미지   │                    │
│  │   (큰 크기)   │  키워드: 새로운 시작,   │
│  │             │  모험, 순수함        │
│  │  264x396px  │                    │
│  └─────────────┘                    │
│                                     │
│  💭 신성한 일지:                      │
│  ┌─────────────────────────────────┐ │
│  │ 이 시간의 느낌이나 경험을...      │ │
│  │ (최대 500자)                    │ │
│  └─────────────────────────────────┘ │
│  234/500 글자                       │
└─────────────────────────────────────┘
```

**기능 상세:**
- 선택된 카드의 큰 이미지 (264x396px)
- 카드명 (영문/한글)
- 핵심 키워드 3개 표시 (뱃지 형태)
- 카드 의미 설명
- 메모 입력창 (최대 500자)
- 실시간 글자 수 카운터
- 자동 저장 (입력 3초 후)

#### 저장 버튼 영역
```
┌─────────────────────────────────────┐
│                                     │
│    [💾 일일 타로 리딩 저장하기]      │
│                                     │
│    저장 완료시: ✅ 저장되었습니다     │
│                                     │
└─────────────────────────────────────┘
```

### 🔄 주요 인터랙션

#### 1. 24시간 카드 생성
```
버튼 터치 → 로딩 애니메이션 (2초) → 24개 카드 동시 생성 → 가로 스크롤 표시
```

#### 2. 카드 선택 및 메모
```
카드 터치 → 카드 확대 효과 → 상세 정보 표시 → 메모 입력 → 자동 저장
```

#### 3. 다시 뽑기
```
다시뽑기 버튼 → 확인 없이 즉시 실행 → 새로운 24개 카드 생성 → 메모 초기화
```

#### 4. 시간 변경 감지
```
시간 변경 → 현재 시간 카드 강조 업데이트 → 부드러운 스크롤 없음 (현재 위치 유지)
```

---

## 🔮 Spreads 탭 - 타로 스프레드 시스템

### 📋 주요 기능 개요
다양한 타로 스프레드 패턴으로 특정 질문에 대한 깊이 있는 리딩을 제공하는 시스템

### 🎯 핵심 프로세스
```
1. 스프레드 선택 → 2. SpreadDetail 화면 이동 → 3. 질문 입력
     ↓
4. 카드뽑기 → 5. 카드 확인 → 6. 메모 작성
     ↓
7. 제목 설정 → 8. 저장하기 → 9. Journal에 저장 완료
```

### 🏗️ UI 구조 및 레이아웃

#### 스프레드 선택 화면 (세로 리스트)
```
┌─────────────────────────────────────┐
│  🔮 타로 스프레드                    │
│  "우주의 메시지를 받을 준비하세요"     │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │ 🎯 원 카드 타로          [FREE]  │ │
│  │ One Card Tarot                  │ │
│  │ 간단한 질문이나 오늘의 메시지      │ │
│  │                                │ │
│  │        [🔮 리딩 시작하기]        │ │
│  └─────────────────────────────────┘ │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │ ⚖️ 쓰리 카드 스프레드    [FREE]  │ │
│  │ Three Card Spread               │ │
│  │ 과거-현재-미래의 흐름 파악        │ │
│  │                                │ │
│  │        [🔮 리딩 시작하기]        │ │
│  └─────────────────────────────────┘ │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │ ✚ 파이브 카드 크로스     [FREE]  │ │
│  │ Five Card Cross                 │ │
│  │ 현재 상황의 다면적 분석           │ │
│  │                                │ │
│  │        [🔮 리딩 시작하기]        │ │
│  └─────────────────────────────────┘ │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │ 💕 관계 스프레드          [👑PRO] │ │
│  │ Relationship Spread             │ │
│  │ 나와 상대방의 관계 상태 분석      │ │
│  │                                │ │
│  │        [🔮 리딩 시작하기]        │ │
│  └─────────────────────────────────┘ │
│                                     │
│  [프리미엄 기능 안내 카드]            │
└─────────────────────────────────────┘
```

**스프레드 타입별 상세 (실제 구현된 SPREAD_TYPES 기준):**

1. **원 카드 타로** (FREE)
   - ID: 'one-card'
   - 카드 수: 1개
   - 용도: 간단한 질문, 오늘의 메시지

2. **쓰리 카드 스프레드** (FREE)
   - ID: 'three-card'
   - 카드 수: 3개
   - 배치: 과거 - 현재 - 미래 (가로 배치)

3. **포 카드 스프레드** (FREE)
   - ID: 'four-card'
   - 카드 수: 4개
   - 배치: (가로 배치)

4. **파이브 카드 V 스프레드드** (FREE)
   - ID: 'five-card'
   - 카드 수: 5개
   - 배치: V자 형태 

5. **켈틱 크로스** (프리미엄)
   - ID: 'celtic-cross'
   - 카드 수: 10개
   - 용도: 종합적이고 깊이 있는 분석

6. **컵오브릴레이션십 스프레드** (프리미엄)
   - ID: 'cub of relationship'
   - 카드 수: 11개
   - 용도: 인간관계, 연애 문제

7. **AB 선택 스프레드** (프리미엄)
   - ID: 'choice'
   - 카드 수: 7개
   - 용도: 두 가지 선택지 중 결정



#### SpreadDetail 실행 화면 (별도 컴포넌트)
```
┌─────────────────────────────────────┐
│  [←] 쓰리 카드 스프레드              │
│                                     │
│  📝 질문 입력:                       │
│  ┌─────────────────────────────────┐ │
│  │ 이번 프로젝트는 어떻게 될까요?     │ │
│  │                               │ │
│  └─────────────────────────────────┘ │
│                                     │
│  ┌─── 카드 배치 ────────────────────┐ │
│  │                                │ │
│  │    ┌───┐    ┌───┐    ┌───┐     │ │
│  │    │🃏 │    │🃏 │    │🃏 │     │ │
│  │    │   │    │   │    │   │     │ │
│  │    └───┘    └───┘    └───┘     │ │
│  │    과거      현재      미래       │ │
│  │                                │ │
│  └────────────────────────────────┘ │
│                                     │
│  💭 인사이트 메모:                   │
│  ┌─────────────────────────────────┐ │
│  │ 전체적인 느낌이나 해석을...       │ │
│  │                               │ │
│  └─────────────────────────────────┘ │
│                                     │
│  📝 리딩 제목:                       │
│  ┌─────────────────────────────────┐ │
│  │ 프로젝트에 대한 타로              │ │
│  └─────────────────────────────────┘ │
│                                     │
│  [카드뽑기] [다시뽑기] [저널에 저장]   │
└─────────────────────────────────────┘
```

**SpreadDetail 주요 기능:**
- **질문 입력**: 스프레드 실행 전 사용자 질문 입력
- **카드뽑기**: 모든 카드를 한 번에 오픈 (뒤집기 과정 없음)
- **다시뽑기**: 현재 카드들을 새로운 카드로 교체
- **인사이트 메모**: 전체 스프레드에 대한 사용자 해석
- **리딩 제목**: 저장할 때 사용할 제목
- **저널에 저장**: Journal 탭에 SavedSpread로 저장

### 🔄 주요 인터랙션

#### 1. 프리미엄 스프레드 선택
```
PRO 스프레드 터치 → 프리미엄 안내 → 무료 스프레드 추천
```

#### 2. 스프레드 실행
```
스프레드 선택 → SpreadDetail 화면 → 질문 입력 → 카드뽑기 → 즉시 표시
```

#### 3. 카드 재뽑기
```
다시뽑기 버튼 → 새로운 카드로 즉시 교체 → 메모는 유지
```

---

## 📔 Journal 탭 - 저장소 시스템

### 📋 주요 기능 개요
저장된 24시간 타로와 스프레드 리딩을 관리하고 다시 볼 수 있는 개인 기록 보관소

### 🏗️ UI 구조 및 레이아웃

#### 메인 탭 구조
```
┌─────────────────────────────────────┐
│  📔 나의 타로 저널                   │
│  "당신만의 신성한 기록들"             │
│                                     │
│  [일일타로] [스프레드]               │ ← 2개 하위 탭
│  ────────                          │
│                                     │
│  [저장된 항목들 리스트...]            │
└─────────────────────────────────────┘
```

#### 일일 타로 섹션
```
┌─────────────────────────────────────┐
│  ⏰ 일일 리딩               3개 기록   │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │ 📅 2024년 1월 15일 월요일    ✅  │ │
│  │ 24시간 타로 리딩                │ │
│  │                                │ │
│  │ [🎴🎴🎴🎴🎴🎴🎴🎴] +16더      │ │ ← 카드 미리보기
│  │                                │ │
│  │ 💭 "오늘은 전반적으로 긍정적인..." │ │
│  │                                │ │
│  │ ⏰ 4개 시간대 메모           [▶] │ │
│  └─────────────────────────────────┘ │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │ 📅 2024년 1월 12일 금요일    ✅  │ │
│  │ [유사한 형태로 반복...]          │ │
│  └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### 스프레드 기록 섹션
```
┌─────────────────────────────────────┐
│  🔮 스프레드 기록           6개 기록   │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │ 💼 "새로운 직장에 대한 결정"  ✅   │ │
│  │ 🔮 AB선택 스프레드 | 2024.1.15   │ │
│  │                                │ │
│  │ [스프레드 미니어처 배치 표시]     │ │ ← SpreadMiniatureForJournal
│  │    ┌─┐ ┌─┐ ┌─┐                 │ │
│  │    │A│ │?│ │B│                 │ │
│  │    └─┘ └─┘ └─┘                 │ │
│  │                                │ │
│  │ 💭 "두 선택지 모두 좋은 기회..."   │ │
│  │                                │ │
│  │ AB선택 스프레드                 [▶] │ │
│  └─────────────────────────────────┘ │
│                                     │
│  ┌─────────────────────────────────┐ │
│  │ 💕 "연인 관계의 미래"         ✅   │ │
│  │ [유사한 형태로 반복...]          │ │
│  └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

### 🔍 상세보기 화면들

#### 일일 타로 상세보기 (DailyTarotViewer)
```
┌─────────────────────────────────────┐
│  [←] 2024년 1월 15일 일일 타로       │
│                                     │
│  ← [0시][1시][2시]...[23시] →       │ ← 가로 스크롤
│   ┌───┐┌───┐┌───┐┌───┐┌───┐        │
│   │🎴 ││🎴 ││⭐ ││🎴 ││🎴 │        │
│   └───┘└───┘└───┘└───┘└───┘        │
│                                     │
│  📍 선택된 시간: 14시                │
│  ┌─────────┐                       │
│  │         │  The Fool              │
│  │ 카드    │  바보                  │
│  │ 이미지   │                       │
│  │         │  키워드: 새로운 시작     │
│  └─────────┘                       │
│                                     │
│  💭 14시 메모:                      │
│  ┌─────────────────────────────────┐ │
│  │ 오후 회의가 있었는데 새로운...    │ │
│  │ (저장된 메모 표시)               │ │
│  └─────────────────────────────────┘ │
│                                     │
│  전체 인사이트:                      │
│  ┌─────────────────────────────────┐ │
│  │ 오늘은 전반적으로 긍정적인...     │ │
│  └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### 스프레드 상세보기 (별도 컴포넌트)
```
┌─────────────────────────────────────┐
│  [←] 새로운 직장에 대한 결정          │
│                                     │
│  🔮 AB선택 스프레드                  │
│  📅 2024.1.15 14:30                │
│  ❓ "A회사와 B회사 중 어디가 좋을까?" │
│                                     │
│  ┌── 카드 배치 ──┐                  │
│  │ ┌───┐ ┌───┐ ┌───┐               │ │
│  │ │ A │ │ ? │ │ B │               │ │
│  │ │선택│ │현재│ │선택│               │ │
│  │ └───┘ └───┘ └───┘               │ │
│  │ ┌───┐ ┌───┐ ┌───┐ ┌───┐         │ │
│  │ │A결│ │B결│ │조언│ │결론│         │ │
│  │ │과 │ │과 │ │   │ │   │         │ │
│  │ └───┘ └───┘ └───┘ └───┘         │ │
│  └─────────────────────────────────┘ │
│                                     │
│  💭 인사이트:                        │
│  ┌─────────────────────────────────┐ │
│  │ 두 선택지 모두 좋은 기회가 될 것... │ │
│  │ A는 안정성을, B는 도전을 의미...  │ │
│  └─────────────────────────────────┘ │
│                                     │
│                          [삭제하기] │
└─────────────────────────────────────┘
```

### 🔄 주요 인터랙션

#### 1. 탭 전환
```
일일타로/스프레드 탭 터치 → 즉시 섹션 전환 → 해당 리스트 표시
```

#### 2. 상세보기
```
항목 터치 → 해당 뷰어 컴포넌트 표시 → 상세 내용 확인
```

---

## ⚙️ Settings 탭 - 설정 시스템

### 📋 주요 기능 개요
앱 설정, 프리미엄 기능, 개인화 옵션을 관리하는 시스템

### 🏗️ UI 구조 및 레이아웃

```
┌─────────────────────────────────────┐
│  ⚙️ 설정                            │
│  "당신만의 신비로운 경험을 조정하세요"  │
│                                     │
│  👑 프리미엄 멤버십                   │
│  ┌─────────────────────────────────┐ │
│  │ 🌟 프리미엄 기능        [활성화] │ │
│  │ • 프리미엄 스프레드 이용 가능     │ │
│  │ • 광고 없는 경험                │ │
│  │ • 무제한 저장 공간              │ │
│  │                                │ │
│  │         [프리미엄 관리]          │ │
│  └─────────────────────────────────┘ │
│                                     │
│  🌙 디스플레이 & 테마                │
│  ┌─────────────────────────────────┐ │
│  │ 다크모드              [●○] 항상 │ │
│  │ 언어            한국어 [🌍 EN] │ │
│  └─────────────────────────────────┘ │
│                                     │
│  🔔 알림                            │
│  ┌─────────────────────────────────┐ │
│  │ 스프레드 완료 알림     [●○]      │ │
│  └─────────────────────────────────┘ │
│                                     │
│  🔊 사운드 & 햅틱                    │
│  ┌─────────────────────────────────┐ │
│  │ 사운드 이펙트         [●○]      │ │
│  │ 햅틱 피드백           [●○]      │ │
│  └─────────────────────────────────┘ │
│                                     │
│  🛡️ 개인정보 & 보안                  │
│  ┌─────────────────────────────────┐ │
│  │ [개인정보 처리방침]              │ │
│  │ [데이터 관리]                   │ │
│  └─────────────────────────────────┘ │
│                                     │
│  ❓ 지원 & 정보                      │
│  ┌─────────────────────────────────┐ │
│  │ [도움말 & FAQ]                  │ │
│  │ [개발자 지원하기]                │ │
│  └─────────────────────────────────┘ │
│                                     │
│  버전 1.0.0                         │
│  © 2024 Mystical Tarot              │
└─────────────────────────────────────┘
```

---

## 🎨 디자인 시스템

### 색상 팔레트
```css
/* 기본 배경 그라디언트 */
background: linear-gradient(135deg, #1a1f3a 0%, #4a1a4f 50%, #1a1f3a 100%)

/* 주요 색상 */
--brand-accent: #d4af37 (황금색)
--cosmic-purple: #4a1a4f
--dark-blue: #1a1f3a
--mystic-glow: rgba(212, 175, 55, 0.3)

/* 텍스트 */
--text-primary: #ffffff
--text-secondary: rgba(255, 255, 255, 0.7)
--text-accent: #d4af37
```

### 타이포그래피 클래스
```css
/* 피그마에서 사용된 실제 클래스들 */
.display-large: 큰 제목용
.title-large: 중간 제목용
.title-medium: 작은 제목용
.body-medium: 본문용
.body-small: 작은 본문용
.caption: 캡션용
.overline: 오버라인용
```

### 컴포넌트 시스템
```typescript
// 피그마에서 사용된 실제 컴포넌트들
- MysticalCard: 기본 카드 컨테이너
- MysticalButton: 버튼 (variant: default, outline)
- MysticalInput: 입력 필드
- MysticalSwitch: 토글 스위치
- Badge: 뱃지 (variant: default, outline, secondary)
- ImageWithFallback: 이미지 (폴백 기능 포함)
```

### 애니메이션 효과
```css
/* 실제 적용된 애니메이션들 */
.animate-mystical-pulse: 신비로운 펄스 효과
.animate-mystical-float: 부유 효과
.animate-mystical-glow: 글로우 효과
.animate-ping: 핑 효과 (배경 별들)
.animate-pulse: 기본 펄스 효과
```

### 반응형 디자인
- **최대 컨테이너 너비**: max-w-md (768px)
- **여백**: px-6 (좌우 24px)
- **카드 간격**: space-y-6, space-y-8
- **터치 영역**: 최소 44px (버튼 py-3, py-4)

---

## 💾 데이터 저장 구조

### LocalStorage 키 구조 (피그마 실제 구현)
```
// utils/tarot-data.ts에서 사용되는 실제 키들
DAILY_TAROT_SAVES: 일일 타로 저장 데이터
SPREAD_SAVES: 스프레드 리딩 저장 데이터 (미구현)
```

### 실제 구현된 함수들
```typescript
// utils/tarot-data.ts의 주요 함수들
- generateDailyCards(date: Date): TarotCard[] // 24개 일일 카드 생성
- getCurrentHour(): number // 현재 시간 반환
- formatHour(hour: number): string // 시간 포맷팅
- formatDate(date: Date): string // 날짜 포맷팅
- saveDailyTarot(save: DailyTarotSave): void // 일일 타로 저장
- loadDailyTarotSaves(): DailyTarotSave[] // 일일 타로 로드
- getTodaysSave(): DailyTarotSave | null // 오늘 타로 확인
```

### 다국어 시스템
```typescript
// utils/language.tsx 구현됨
- LanguageProvider: 언어 컨텍스트 제공
- useLanguage(): 언어 훅
- 지원 언어: 'ko' | 'en'
- 번역 키: t('timer.title'), t('spreads.title') 등
```

이제 이 명세서를 바탕으로 Claude Code에 정확한 React Native 구현을 요청할 수 있습니다!
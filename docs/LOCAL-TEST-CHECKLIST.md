# Build 40 로컬 테스트 체크리스트

**테스트 일시**: 2025-10-22
**테스트 환경**: Expo Web (localhost:8083)
**테스트 대상**: Build 39 → Build 40 버그 수정

---

## 🚀 서버 상태

✅ **개발 서버 실행 중**
- URL: http://localhost:8083
- Port: 8083
- Status: 🟢 Running

⚠️ **의존성 경고** (무시 가능)
```
- expo@54.0.15 (expected: 54.0.17)
- react-native@0.81.4 (expected: 0.81.5)
- @types/react@19.2.2 (expected: ~19.1.10)
```
→ 빌드에 영향 없음, 무시 가능

✅ **expo-haptics 설치 완료**
- 이전 오류 해결됨
- 서버 정상 시작

---

## 📋 테스트 항목

### 🔴 **우선순위 1: BUG-001 (데일리 타로 저장)**

#### 테스트 1-1: 무료 체험 사용자 저장
**목표**: 무제한 저장 확인

**단계**:
1. [ ] 앱 실행 (http://localhost:8083)
2. [ ] 타이머 탭으로 이동
3. [ ] 24시간 타로 카드 뽑기 (시간별 카드 확인)
4. [ ] "저장하기" 버튼 클릭
5. [ ] **콘솔 로그 확인**:
   ```
   ✅ DailyTarot 저장 성공: 2025-10-22 (1/999999)
   ```
6. [ ] 저널 탭으로 이동
7. [ ] 저장된 데일리 타로 확인 (오늘 날짜)
8. [ ] 카드 상세 보기 클릭
9. [ ] 저장된 24개 카드 모두 표시되는지 확인

**예상 결과**: ✅ 저장 성공

---

#### 테스트 1-2: 무료 사용자 저장 (제한 테스트)
**목표**: 15개 제한 확인

**단계**:
1. [ ] 프리미엄 상태를 무료로 전환 (Settings → Premium 토글)
2. [ ] 타이머 탭에서 "저장하기" 클릭 (2번째)
3. [ ] **콘솔 로그 확인**:
   ```
   🔍 DailyTarot 저장 제한 확인: 2/15
   ✅ DailyTarot 저장 성공: 2025-10-22 (3/15)
   ```
4. [ ] 여러 번 저장 시도 (15개까지)
5. [ ] **15개 저장 후** 추가 저장 시도
6. [ ] **예상 Alert**:
   ```
   저장 제한 도달
   무료 버전은 최대 15개까지 저장할 수 있습니다.
   현재: 15/15
   ```

**예상 결과**: ✅ 제한 정상 작동

---

#### 테스트 1-3: 카운트 정확성 확인
**목표**: 실시간 카운트 확인

**단계**:
1. [ ] 브라우저 개발자 도구 열기 (F12)
2. [ ] Console 탭으로 이동
3. [ ] "저장하기" 버튼 클릭
4. [ ] **콘솔 로그 확인**:
   ```
   📊 실제 DailyTarot 저장 개수: 3개
   🔍 DailyTarot 저장 제한 확인: 3/15
   ✅ DailyTarot 저장 성공: 2025-10-22 (4/15)
   ```
5. [ ] AsyncStorage 확인 (Application 탭 → Local Storage)
6. [ ] `daily_tarot_2025-10-22` 키 존재 확인

**예상 결과**: ✅ 정확한 카운트

---

### 🔴 **우선순위 2: BUG-002 (타이머 탭 크래시)**

#### 테스트 2-1: 광고 로딩 정상
**목표**: 광고 표시 확인

**단계**:
1. [ ] 타이머 탭 진입
2. [ ] 하단 배너 광고 영역 확인
3. [ ] **웹 환경 예상**:
   ```
   [ Web 광고 시뮬레이션 ]
   실제 앱에서는 AdMob 배너 광고가 표시됩니다
   ```
4. [ ] 콘솔에서 광고 로그 확인
5. [ ] 크래시 없이 정상 작동 확인

**예상 결과**: ✅ 광고 시뮬레이션 표시

---

#### 테스트 2-2: 10분 안정성 테스트
**목표**: 메모리 누수 및 크래시 없음

**단계**:
1. [ ] 타이머 탭에서 10분 대기
2. [ ] 다른 탭으로 이동 (Journal, Spread, Settings)
3. [ ] 다시 타이머 탭으로 돌아오기 (반복 5회)
4. [ ] **크래시 없음** 확인
5. [ ] **에러 메시지 없음** 확인

**예상 결과**: ✅ 안정적 작동

---

#### 테스트 2-3: 광고 에러 처리
**목표**: 광고 실패 시 크래시 없음

**단계**:
1. [ ] 개발자 도구 Console에서 에러 발생 시뮬레이션
   ```javascript
   // 광고 에러 강제 발생 (선택)
   ```
2. [ ] **예상 로그**:
   ```
   ❌ 배너 광고 로드 실패: [에러 메시지]
   ```
3. [ ] 타이머 탭이 **크래시 없이** 계속 작동
4. [ ] 광고 영역이 **숨겨짐** (null 반환)

**예상 결과**: ✅ 에러 처리 정상

---

### 🟡 **우선순위 3: 회귀 테스트**

#### 테스트 3-1: 다른 탭 정상 작동
**단계**:
1. [ ] **Journal 탭**
   - 저장된 데일리 타로 표시
   - 카드 상세 보기
   - 메모 작성/수정

2. [ ] **Spread 탭**
   - 스프레드 타입 선택
   - 카드 뽑기
   - 저장 기능

3. [ ] **Settings 탭**
   - 프리미엄 토글
   - 언어 변경
   - 알림 설정

**예상 결과**: ✅ 모든 탭 정상 작동

---

#### 테스트 3-2: 24시간 타로 뽑기
**단계**:
1. [ ] 타이머 탭에서 현재 시간 카드 뽑기
2. [ ] 카드 애니메이션 정상
3. [ ] 카드 이미지 로딩 정상
4. [ ] 카드 의미 표시 정상
5. [ ] 메모 입력 가능

**예상 결과**: ✅ 핵심 기능 정상

---

#### 테스트 3-3: 프리미엄 전환
**단계**:
1. [ ] Settings → Premium 토글 ON
2. [ ] 타이머 탭 광고 **숨김** 확인
3. [ ] 저장 제한 **무제한** 확인
4. [ ] Premium 토글 OFF
5. [ ] 광고 **재표시** 확인
6. [ ] 저장 제한 **15개** 확인

**예상 결과**: ✅ 프리미엄 연동 정상

---

## 🎯 테스트 결과 요약

### 필수 통과 항목
- [ ] 데일리 타로 저장 성공 (100%)
- [ ] 타이머 탭 크래시 없음
- [ ] 광고 에러 처리 정상
- [ ] 회귀 없음 (다른 탭 정상)

### 선택 통과 항목
- [ ] 10분 안정성 테스트
- [ ] 카운트 정확성
- [ ] 프리미엄 전환

---

## 📊 테스트 진행 상황

**시작 시간**: _______
**종료 시간**: _______
**테스트 시간**: _______

**통과율**: _____ / _____ (____%)

---

## 🐛 발견된 이슈

### Issue #1
- **발견 시점**: _______
- **증상**: _______
- **재현 방법**: _______
- **심각도**: 🔴 / 🟡 / 🟢
- **해결 방안**: _______

---

## ✅ 테스트 완료 후

### 다음 단계
1. [ ] Git 커밋 및 푸시
2. [ ] app.json 버전 업데이트 (buildNumber: 40)
3. [ ] iOS Build 40 빌드 시작
4. [ ] TestFlight 배포

### 추가 확인 사항
- [ ] 콘솔 로그 스크린샷 저장
- [ ] 테스트 결과 문서화
- [ ] 발견된 이슈 기록

---

**테스터**: _______
**승인**: _______
**다음 리뷰**: Build 40 배포 후

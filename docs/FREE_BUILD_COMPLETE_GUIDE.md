# ğŸ†“ ì™„ì „ ë¬´ë£Œ ë¹Œë“œ ì‹œìŠ¤í…œ ê°€ì´ë“œ

## ğŸ¯ ëª©í‘œ: EAS Build ë¹„ìš© $0ë¡œ ë§Œë“¤ê¸°

ì´ ê°€ì´ë“œë¥¼ ë”°ë¼í•˜ë©´ **EAS Build ë¹„ìš© ì—†ì´** iOSì™€ Android ì•±ì„ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“Š ë¹„ìš© ë¹„êµ

| í•­ëª© | EAS Build | ë¬´ë£Œ ë¹Œë“œ | ì ˆê°ì•¡ |
|------|-----------|-----------|--------|
| **Android ë¹Œë“œ** | ~$1/ë¹Œë“œ | $0 | 100% |
| **iOS ë¹Œë“œ** | ~$1/ë¹Œë“œ | $0 | 100% |
| **ì›”ê°„ ë¹Œë“œ (20íšŒ)** | ~$20 | $0 | **$240/ë…„** |
| **ì—°ê°„ ì ˆê°** | ~$240 | $0 | **$240** |

**ì¶”ê°€ ë¹„ìš©**:
- Apple Developer Program: $99/ë…„ (iOS ë°°í¬ í•„ìˆ˜)
- Google Play ê°œë°œì ë“±ë¡: $25 (ì¼íšŒì„±)

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë¬´ë£Œ ë¹Œë“œ ì‹œìŠ¤í…œ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Android ë¹Œë“œ     â”‚         â”‚   iOS ë¹Œë“œ        â”‚      â”‚
â”‚  â”‚  (GitHub Actions)â”‚         â”‚   (ë¡œì»¬ macOS)   â”‚      â”‚
â”‚  â”‚                  â”‚         â”‚                  â”‚      â”‚
â”‚  â”‚  âœ… ì™„ì „ ìë™í™”   â”‚         â”‚  âœ… macOS í•„ìˆ˜    â”‚      â”‚
â”‚  â”‚  âœ… APK/AAB ìƒì„± â”‚         â”‚  âœ… Xcode í•„ìš”    â”‚      â”‚
â”‚  â”‚  âœ… ë¬´ì œí•œ ë¹Œë“œ   â”‚         â”‚  âœ… 5-10ë¶„ ë¹Œë“œ   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚           â”‚                            â”‚                 â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                        â–¼                                 â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚              â”‚   ë°°í¬ ì‹œìŠ¤í…œ      â”‚                        â”‚
â”‚              â”‚  (ìˆ˜ë™/ìë™)      â”‚                        â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                        â”‚                                 â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚         â–¼              â–¼              â–¼                  â”‚
â”‚   Google Play    App Store      TestFlight              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ (í”Œë«í¼ë³„)

### ğŸ¤– Android (GitHub Actions - ì™„ì „ ìë™)

#### 1ë‹¨ê³„: GitHub Actions í™œì„±í™” (1ë¶„)
```bash
# ì›Œí¬í”Œë¡œìš° íŒŒì¼ í‘¸ì‹œ
git add .github/workflows/android-free-build.yml
git commit -m "feat: Android ë¬´ë£Œ ë¹Œë“œ ì‹œìŠ¤í…œ ì¶”ê°€"
git push origin main
```

#### 2ë‹¨ê³„: ë¹Œë“œ ì‹¤í–‰ (2ë¶„)
1. GitHub ì €ì¥ì†Œ â†’ **Actions** íƒ­
2. **Android Free Build** ì„ íƒ
3. **Run workflow** í´ë¦­
4. ì˜µì…˜ ì„ íƒ:
   - **Build Type**: APK (í…ŒìŠ¤íŠ¸) ë˜ëŠ” AAB (ìŠ¤í† ì–´)
   - **Version Bump**: true (ìë™ ë²„ì „ ì¦ê°€)
5. **Run workflow** ë²„íŠ¼

#### 3ë‹¨ê³„: APK/AAB ë‹¤ìš´ë¡œë“œ (1ë¶„)
- ë¹Œë“œ ì™„ë£Œ í›„ **Artifacts** ì„¹ì…˜ì—ì„œ ë‹¤ìš´ë¡œë“œ
- íŒŒì¼ëª…: `tarot-timer-v[ë¹Œë“œë²ˆí˜¸].apk/aab`

#### ë¡œì»¬ì—ì„œ ë¹Œë“œ (ëŒ€ì•ˆ)
```bash
# APK ìƒì„± (í…ŒìŠ¤íŠ¸ìš©)
npm run build:android:local

# AAB ìƒì„± (ìŠ¤í† ì–´ ì œì¶œìš©)
npm run build:android:aab

# ë¹Œë“œ íŒŒì¼ ìœ„ì¹˜
# android/app/build/outputs/apk/release/
# android/app/build/outputs/bundle/release/
```

### ğŸ iOS (ë¡œì»¬ macOS - 5-10ë¶„)

#### í•„ìˆ˜ ì¤€ë¹„ë¬¼
- macOS ì»´í“¨í„° (Mac mini, MacBook, iMac)
- Xcode 15.0 ì´ìƒ (ë¬´ë£Œ, App Store)
- Apple Developer Program ($99/ë…„)

#### 1ë‹¨ê³„: Xcode ì„¤ì¹˜
```bash
# Command Line Tools ì„¤ì¹˜
xcode-select --install

# App Storeì—ì„œ Xcode ì„¤ì¹˜
# https://apps.apple.com/us/app/xcode/id497799835
```

#### 2ë‹¨ê³„: í”„ë¡œì íŠ¸ Prebuild
```bash
# iOS ë„¤ì´í‹°ë¸Œ í”„ë¡œì íŠ¸ ìƒì„±
npm run prebuild:ios

# CocoaPods ì˜ì¡´ì„± ì„¤ì¹˜
cd ios
pod install
cd ..
```

#### 3ë‹¨ê³„: Xcodeì—ì„œ ë¹Œë“œ
```bash
# Xcode ì—´ê¸°
open ios/tarottimerweb.xcworkspace
```

**Xcodeì—ì„œ**:
1. **Product** â†’ **Destination** â†’ **Any iOS Device (arm64)**
2. **Product** â†’ **Archive** í´ë¦­
3. ë¹Œë“œ ì™„ë£Œ í›„ **Distribute App** â†’ **App Store Connect**

#### CLIë¡œ ë¹Œë“œ (ëŒ€ì•ˆ)
```bash
# ë¦´ë¦¬ì¦ˆ ë¹Œë“œ
npm run build:ios:local

# ë˜ëŠ”
npx expo run:ios --configuration Release
```

## ğŸ“‹ ìƒì„¸ ì„¤ì • ê°€ì´ë“œ

### Android ìƒì„¸ ê°€ì´ë“œ

#### Keystore ì„¤ì • (í”„ë¡œë•ì…˜)

**1. Keystore ìƒì„±**
```bash
cd android/app

# Release keystore ìƒì„±
keytool -genkeypair -v \
  -storetype PKCS12 \
  -keystore release.keystore \
  -alias tarot-timer-key \
  -keyalg RSA \
  -keysize 2048 \
  -validity 10000 \
  -storepass YOUR_STORE_PASSWORD \
  -keypass YOUR_KEY_PASSWORD \
  -dname "CN=Tarot Timer, OU=Development, O=Tarot Timer Team, L=Seoul, ST=Seoul, C=KR"
```

**2. GitHub Secrets ë“±ë¡**
- `ANDROID_KEYSTORE_BASE64`: keystore íŒŒì¼ì„ base64ë¡œ ì¸ì½”ë”©
- `KEYSTORE_PASSWORD`: Keystore ë¹„ë°€ë²ˆí˜¸
- `KEY_ALIAS`: tarot-timer-key
- `KEY_PASSWORD`: Key ë¹„ë°€ë²ˆí˜¸

```bash
# Keystoreë¥¼ base64ë¡œ ì¸ì½”ë”©
base64 android/app/release.keystore | pbcopy  # macOS
base64 android/app/release.keystore | clip    # Windows
```

**3. gradle.properties ì„¤ì •**
```properties
# android/gradle.properties
MYAPP_RELEASE_STORE_FILE=release.keystore
MYAPP_RELEASE_KEY_ALIAS=tarot-timer-key
MYAPP_RELEASE_STORE_PASSWORD=YOUR_STORE_PASSWORD
MYAPP_RELEASE_KEY_PASSWORD=YOUR_KEY_PASSWORD
```

### iOS ìƒì„¸ ê°€ì´ë“œ

ìì„¸í•œ ë‚´ìš©ì€ [IOS_LOCAL_BUILD_GUIDE.md](./IOS_LOCAL_BUILD_GUIDE.md) ì°¸ê³ 

#### ì£¼ìš” ë‹¨ê³„ ìš”ì•½
1. **Apple Developer ê³„ì •** ë“±ë¡ ($99/ë…„)
2. **Xcode** ì„¤ì¹˜ ë° ì„¤ì •
3. **ì„œëª… ì¸ì¦ì„œ** ì„¤ì •
4. **Provisioning Profile** ìƒì„±
5. **Archive** ìƒì„± ë° ì œì¶œ

## ğŸ”„ CI/CD í†µí•©

### GitHub Actions ì›Œí¬í”Œë¡œìš°

#### Android ìë™ ë¹Œë“œ
```yaml
# .github/workflows/android-free-build.yml
# ì´ë¯¸ ì„¤ì •ë˜ì–´ ìˆìŒ!
# ì‚¬ìš©ë²•: GitHub â†’ Actions â†’ Run workflow
```

#### iOS CI/CD (ì˜µì…˜)
```yaml
# macOS runner ì‚¬ìš© (GitHub Actions)
# ì£¼ì˜: macOS runnerëŠ” Linuxë³´ë‹¤ 10ë°° ë¹„ìŒˆ
# ê¶Œì¥: ë¡œì»¬ ë¹Œë“œ ì‚¬ìš©
```

### ë¸Œëœì¹˜ ì „ëµ

```
main (í”„ë¡œë•ì…˜)
  â”œâ”€ release/* (ë¦´ë¦¬ì¦ˆ ë¸Œëœì¹˜)
  â””â”€ develop (ê°œë°œ)
      â””â”€ feature/* (ê¸°ëŠ¥ ë¸Œëœì¹˜)
```

**ìë™ ë¹Œë“œ íŠ¸ë¦¬ê±°**:
- `main` ë¸Œëœì¹˜ í‘¸ì‹œ â†’ Android AAB ë¹Œë“œ
- `develop` ë¸Œëœì¹˜ í‘¸ì‹œ â†’ Android APK ë¹Œë“œ
- `release/*` íƒœê·¸ â†’ iOS + Android í”„ë¡œë•ì…˜ ë¹Œë“œ

## ğŸ›ï¸ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸

### package.json ìŠ¤í¬ë¦½íŠ¸

```json
{
  "scripts": {
    // ë¬´ë£Œ ë¹Œë“œ (ìƒˆë¡œ ì¶”ê°€ë¨)
    "build:android:local": "expo prebuild --platform android --clean && cd android && ./gradlew assembleRelease",
    "build:android:aab": "expo prebuild --platform android --clean && cd android && ./gradlew bundleRelease",
    "build:ios:local": "expo prebuild --platform ios --clean && cd ios && pod install && xcodebuild -workspace tarottimerweb.xcworkspace -scheme tarottimerweb -configuration Release archive",
    "build:all:local": "npm run build:android:local && npm run build:ios:local",

    // Prebuild ìŠ¤í¬ë¦½íŠ¸
    "prebuild:android": "expo prebuild --platform android --clean",
    "prebuild:ios": "expo prebuild --platform ios --clean",
    "prebuild:all": "expo prebuild --clean"
  }
}
```

## ğŸ“¦ ë°°í¬ ì›Œí¬í”Œë¡œìš°

### Android ë°°í¬ (Google Play)

#### 1. AAB ìƒì„±
```bash
# GitHub Actionsì—ì„œ ìë™ ë¹Œë“œ
# ë˜ëŠ”
npm run build:android:aab
```

#### 2. Google Play Console ì—…ë¡œë“œ
1. [Google Play Console](https://play.google.com/console) ì ‘ì†
2. **í”„ë¡œë•ì…˜** â†’ **ìƒˆ ë²„ì „ ë§Œë“¤ê¸°**
3. AAB íŒŒì¼ ì—…ë¡œë“œ
4. ì¶œì‹œ ë…¸íŠ¸ ì‘ì„±
5. **ì¶œì‹œ ê²€í† ** â†’ **ì¶œì‹œ ì‹œì‘**

#### 3. ìë™ ì œì¶œ (ì˜µì…˜)
```bash
# EAS Submit ì‚¬ìš© (ë¬´ë£Œ)
eas submit --platform android --latest
```

### iOS ë°°í¬ (App Store)

#### 1. Archive ìƒì„±
```bash
# Xcodeì—ì„œ ìƒì„±
# Product â†’ Archive â†’ Distribute App
```

#### 2. App Store Connect ì—…ë¡œë“œ
- Xcode Organizerì—ì„œ ìë™ ì—…ë¡œë“œ
- ë˜ëŠ” Transporter ì•± ì‚¬ìš©

#### 3. App Store Connectì—ì„œ ì œì¶œ
1. [App Store Connect](https://appstoreconnect.apple.com) ì ‘ì†
2. **TestFlight** íƒ­ì—ì„œ ë¹Œë“œ í™•ì¸
3. **App Store** íƒ­ â†’ **ì œì¶œ ì¤€ë¹„**
4. ìŠ¤í¬ë¦°ìƒ·, ì„¤ëª… ë“± ë©”íƒ€ë°ì´í„° ì…ë ¥
5. **ì‹¬ì‚¬ ì œì¶œ**

## ğŸ” ë³´ì•ˆ ê¶Œì¥ì‚¬í•­

### âœ… í•´ì•¼ í•  ê²ƒ
- Keystore íŒŒì¼ì„ **ì ˆëŒ€** Gitì— ì»¤ë°‹í•˜ì§€ ì•Šê¸°
- `.gitignore`ì— `*.keystore`, `*.jks` ì¶”ê°€
- GitHub Secretsì— ë¯¼ê°í•œ ì •ë³´ ì €ì¥
- ì •ê¸°ì ìœ¼ë¡œ ì¸ì¦ì„œ ë° í‚¤ ê°±ì‹ 

### âŒ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ
- í…ŒìŠ¤íŠ¸ keystoreë¡œ í”„ë¡œë•ì…˜ ë¹Œë“œ
- ë¹„ë°€ë²ˆí˜¸ë¥¼ ì½”ë“œì— í•˜ë“œì½”ë”©
- ì¸ì¦ì„œë¥¼ ê³µê°œ ì €ì¥ì†Œì— ë…¸ì¶œ

## ğŸ› ë¬¸ì œ í•´ê²°

### Android ë¹Œë“œ ì‹¤íŒ¨

#### "SDK location not found"
```bash
# ANDROID_HOME í™˜ê²½ë³€ìˆ˜ ì„¤ì •
export ANDROID_HOME=$HOME/Android/Sdk  # Linux/macOS
set ANDROID_HOME=%LOCALAPPDATA%\Android\Sdk  # Windows
```

#### "Execution failed for task ':app:mergeReleaseResources'"
```bash
# Gradle ìºì‹œ ì‚­ì œ
cd android
./gradlew clean
./gradlew assembleRelease --refresh-dependencies
```

### iOS ë¹Œë“œ ì‹¤íŒ¨

#### "No provisioning profile found"
- Xcode â†’ Signing & Capabilities â†’ Automatically manage signing ì²´í¬

#### "Code signing error"
```bash
# ì¸ì¦ì„œ í™•ì¸
security find-identity -v -p codesigning

# Keychainì—ì„œ ì¸ì¦ì„œ ìƒíƒœ í™•ì¸
```

ìì„¸í•œ ë‚´ìš©ì€ [IOS_LOCAL_BUILD_GUIDE.md](./IOS_LOCAL_BUILD_GUIDE.md) ì°¸ê³ 

## ğŸ“ˆ ì„±ëŠ¥ ë¹„êµ

| í•­ëª© | EAS Build | ë¬´ë£Œ ë¹Œë“œ | ì°¨ì´ |
|------|-----------|-----------|------|
| **Android ë¹Œë“œ ì‹œê°„** | 15-20ë¶„ | 5-10ë¶„ | **2-3ë°° ë¹ ë¦„** |
| **iOS ë¹Œë“œ ì‹œê°„** | 15-20ë¶„ | 5-10ë¶„ | **2-3ë°° ë¹ ë¦„** |
| **ë¹„ìš© (ì›” 20íšŒ)** | ~$20 | $0 | **$240/ë…„ ì ˆê°** |
| **ë¹Œë“œ í ëŒ€ê¸°** | ìˆìŒ | ì—†ìŒ | **ì¦‰ì‹œ ë¹Œë“œ** |
| **ì»¤ìŠ¤í„°ë§ˆì´ì§•** | ì œí•œì  | ë¬´ì œí•œ | **ì™„ì „ ì œì–´** |

## ğŸ¯ ê¶Œì¥ ì›Œí¬í”Œë¡œìš°

### ê°œë°œ ë‹¨ê³„
```bash
# ë¡œì»¬ ê°œë°œ ì„œë²„
npm start

# Android ì—ë®¬ë ˆì´í„°
npm run android

# iOS ì‹œë®¬ë ˆì´í„°
npm run ios
```

### í…ŒìŠ¤íŠ¸ ë‹¨ê³„
```bash
# Android APK ìƒì„± (GitHub Actions)
# GitHub â†’ Actions â†’ Android Free Build â†’ APK

# iOS ì‹œë®¬ë ˆì´í„° ë¹Œë“œ
npx expo run:ios
```

### í”„ë¡œë•ì…˜ ë‹¨ê³„
```bash
# Android AAB (GitHub Actions)
# GitHub â†’ Actions â†’ Android Free Build â†’ AAB

# iOS Archive (ë¡œì»¬ macOS)
npm run build:ios:local
# ë˜ëŠ” Xcode â†’ Product â†’ Archive
```

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

### ê³µì‹ ë¬¸ì„œ
- [Expo Bare Workflow](https://docs.expo.dev/workflow/overview/)
- [Android App Bundles](https://developer.android.com/guide/app-bundle)
- [iOS Code Signing](https://developer.apple.com/support/code-signing/)
- [GitHub Actions](https://docs.github.com/en/actions)

### í”„ë¡œì íŠ¸ ê°€ì´ë“œ
- [IOS_LOCAL_BUILD_GUIDE.md](./IOS_LOCAL_BUILD_GUIDE.md) - iOS ìƒì„¸ ê°€ì´ë“œ
- [GITHUB_ACTIONS_SETUP.md](./GITHUB_ACTIONS_SETUP.md) - GitHub Actions ì„¤ì •
- [GITHUB_ACTIONS_QUICKSTART.md](./GITHUB_ACTIONS_QUICKSTART.md) - ë¹ ë¥¸ ì‹œì‘

## ğŸ‰ ì™„ë£Œ!

ì´ì œ **ì™„ì „ ë¬´ë£Œ**ë¡œ iOSì™€ Android ì•±ì„ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

### ë‹¤ìŒ ë‹¨ê³„
1. âœ… Android: GitHub Actions ì›Œí¬í”Œë¡œìš° ì‹¤í–‰
2. âœ… iOS: macOSì—ì„œ Xcodeë¡œ ë¹Œë“œ
3. âœ… ë°°í¬: Google Play & App Store ì œì¶œ

---

**ì‘ì„±ì¼**: 2025-10-27
**ì—…ë°ì´íŠ¸**: 2025-10-27
**ë¹„ìš© ì ˆê°**: $240/ë…„
**ë¹Œë“œ ì‹œê°„**: í‰ê·  5-10ë¶„
